!function(t){function e(e){for(var r,l,i=e[0],u=e[1],c=e[2],f=0,d=[];f<i.length;f++)l=i[f],a[l]&&d.push(a[l][0]),a[l]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(s&&s(e);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),t=l(l.s=n[0]))}return t}var r={},a={1:0},o=[];function l(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=r,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(n,r,function(e){return t[e]}.bind(null,r));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var s=u;o.push([7,0,3]),n()}({3:function(t,e){(function(){var t,e,n,r,a,o;a=void 0,d3.ternary={},n=Math.sqrt(3)/2,tickValues=[.2,.4,.6,.8,1],o=function(){var t,e,n,r;for(r="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=0;t<=3;++t)e=Math.floor(Math.random()*n.length),r+=n.charAt(e);return r},r=function(t){return t||(t="linear"),a=d3.svg.line().x(function(t){return t[0]}).y(function(t){return t[1]}).interpolate(t)},e=[0,120,240],d3.ternary.graticule=function(){var t,e,n,r,a;return e=.1,r=null,n=function(){var t,n,r;for(r=[],n=t=e;n<1;)r.push(n),n+=t;return r},a=function(){var t,n;if(n=[],null==r)return n;for(t=r;t<1;)t%e!=0&&n.push(t),t+=r;return n},(t=function(t){var e,r;return r=[0,1,2].map(function(){return d3.svg.axis().tickValues(n())}),e=function(e,r){var l,i,u,c;return l=d3.select(this),(u=l.selectAll("path.minor").data(a())).enter().append("path").attr("class",`minor axis-${r}`),(c=l.selectAll("path.major").data(n())).enter().append("path").attr("class",`major axis-${r}`),i=function(){return e.scale(t.scales[r]),u.attr("d",t.rule(r)),c.attr("d",t.rule(r))},t.on("resize."+o(),i),i()},t.axes().selectAll(".graticule").data(r).enter().append("g").attr("class","graticule").attr("clip-path","url(#axesClip)").each(e)}).axes=function(){return gratAxes},t.majorInterval=function(n){return n?(e=n,t):e},t.minorInterval=function(e){return e?(r=e,t):r},t},d3.ternary.scalebars=function(t){var n,r,a,l,i,u;return null==t&&(t={}),i=null,l=t.labels||null,r=[0,1,2].map(function(t){return d3.svg.axis().tickSize(10).tickFormat(d3.format("%")).tickValues(tickValues).orient("top")}),n=function(t,e){return 0===e?d3.select(this).selectAll("text").attr("transform",function(t){const e=d3.select(this).attr("y");return"translate(22 "+-e+") rotate(60 0 "+4.5*e+")"})&&d3.select(this).selectAll("line").attr("transform",function(t){const e=d3.select(this).attr("y");return"translate(0 "+-e+") rotate(-30 0 "+1*e+")"}):d3.select(this).selectAll("text").attr("transform",function(t){const e=d3.select(this).attr("y");return"translate(-27 "+-e+") rotate(-120 0 "+2.5*e+")"})&&d3.select(this).selectAll("line").attr("transform",function(t){const e=d3.select(this).attr("y");return"translate(0 "+-e+") rotate(-30 0 "+1*e+")"})},a=function(t,e){var n,r,a;return n=-30,r="translate("+(a=i.width())/2+")",2===e&&(n=42,r=" rotate(-180 0 0) translate("+-a/2+")"),d3.select(this).attr("class","label").attr("transform",r).attr("y",n).attr("text-anchor","middle").text(t)},(u=function(t){var u,c;return(u=(i=t).axes().selectAll(".bary-axis").data(e).enter().append("g").attr("class",function(t,e){return t="bary-axis",2===e&&(t+=" bottom"),t})).each(function(){return d3.select(this).append("text").attr("class","label")}),c=function(){var t,e,o;if(r.forEach(function(t,e){var n;return n=i.scales[e].copy(),t.scale(n)}),o=i.radius(),e=i.center(),u.each(function(t,e){var n;return n=d3.select(this),r[e](n)}).attr("transform",function(t,n){return"rotate("+(120*n-60)+" "+e[0]+" "+e[1]+") translate(0 "+o/2+")"}).each(n),t)return i.axes().selectAll(".bary-axis .label").data(l).each(a)},i.on("resize."+o(),c),c()}).labels=function(t){return null==t?l:(l=t,u)},u.axes=r,u},d3.ternary.vertexLabels=function(t){var e=null,n=[0,60,-60];return function(r){var a,l,i;return i=r.vertices(20),a=t.map(function(t,e){return{label:t,vertex:i[e]}}),(e=r.axes().selectAll(".vertex-label").data(a)).enter().append("text").text(function(t){return t.label}).attr("dy",".35em").attr("text-anchor","middle").attr("class",function(t){return"vertex-label "+t.label.toLowerCase()}),l=function(){return e.attr({transform:function(t,e){var r;return"translate("+(r=t.vertex)[0]+","+r[1]+")rotate("+n[e]+")"}})},r.on("resize."+o(),l),l(),e}},d3.ternary.neatline=function(){return function(t){return t.node().append("use").attr("class","neatline").attr("xlink:href","#bounds")}},t=function(t){var e,n,r,a,l,i,u,c,s;for(r=t.scales.map(function(t){return t.domain()}),c=[],i=u=0;u<=2;i=++u)-1===(s=i-1)&&(s=2),(n=r.map(function(t){return t[0]}))[s]=r[s][1],c.push(n),(n=r.map(function(t){return t[0]}))[i]=r[i][1],c.push(n);return e=d3.select(this),null==(l=e.select("#bounds")).node()&&(l=e.append("polygon")),l.datum(c).attr({id:"bounds"}),a=function(){return l.attr({points:function(e){return e.map(function(e){return(i=t.rawPoint(e)).join(",")}).join(" ")}})},t.on("resize."+o(),a),a()},d3.ternary.plot=function(){var e,o,l,i,u,c,s,f,d,p,m,h,y,v,g,b,x,w;return m=500,p=500,d={top:50,bottom:50,left:50,right:50},y=null,c=null,w=null,x=null,o=null,h=null,i=null,b=!1,l=[],g=[0,1,2].map(function(){return d3.scale.linear().domain([0,1]).range([0,1])}),u=d3.dispatch("resize"),f=function(t){return t-d.left-d.right},s=function(t){return t-d.top-d.bottom},v=function(){var n,r;if(null==w&&(w=f(m)),null==c&&(c=s(p)),null==y&&(y=w/Math.sqrt(3)),[w/2,y],null!=x){for(x.attr({transform:"translate("+d.left+","+d.top+")",width:w,height:c}),d3.select(x.node().parentElement).attr({width:m,height:p}),n=0,r=g.length;n<r;n++)g[n].range([0,w]);return t.call(i.node(),e),b&&h.attr({"clip-path":"url(#axesClip)"}),u.resize()}},(e=function(t){return x=t.append("g"),i=x.append("defs"),o=x.append("g").attr("id","axes"),h=x.append("g").attr("id","plot"),v(),i.append("clipPath").attr({id:"axesClip"}).append("use").attr({"xlink:href":"#bounds"}),l&&l.forEach(function(t){return t(e)}),l=[]}).on=function(t,e){return u.on(t,e)},e.fit=function(t,r){var a,o,l;return 2===arguments.length?(o=f(t),l=(a=s(r))<=n*o?2*a/3:o/Math.sqrt(3)):l=o/Math.sqrt(3),e.radius(l),e},e.node=function(){return x},e.axes=function(){return o},e.plot=function(){return h},e.call=function(t){return null!=x?t(e):l.push(t),e},e.scales=g,e.margin=function(t){return null==t?d:(d=null!=t.left?t:{left:t,right:t,top:t,bottom:t},v(),e)},e.point=function(t){var n;return 0!==(n=d3.sum(t))&&(t=t.map(function(t){return t/n})),e.rawPoint(t)},e.rawPoint=function(t){var e,r,a,o;return 0===d3.sum(t)?[0,0]:(e=g[0],r=g[1],g[2],a=t[0],o=t[1],t[2],[e(a)/2+r(o),r((1-a)*n)])},e.value=function(t){var e,r,a,o,l,i;return l=t[0],i=t[1],e=g[0],r=g[1],g[2],[a=1-r.invert(i)/n,o=r.invert(l-e(a)/2),1-a-o]},e.path=function(t,n,o){var l;return r(o),n||(n=function(t){return t}),l=t.map(function(t){return e.point(n(t))}),a(l)},e.area=function(t,n,o){var l;return r(o),n||(n=function(t){return t}),l=t.map(function(t){return e.point(n(t))}),a(l)+"Z"},e.rule=function(t){return function(n){var r;return r=[],0===t?r=[[0,1-n,n],[1-n,0,n]]:1===t?r=[[0,n,1-n],[1-n,n,0]]:2===t&&(r=[[n,0,1-n],[n,1-n,0]]),e.path(r)}},e.vertices=function(t){return null==t&&(t=0),[0,-120,120].map(function(e){var n;return n=e*Math.PI/180,[w/2+Math.sin(n)*(y+t),y-Math.cos(n)*(y+t)]})},e.range=function(t){return e},e.radius=function(t){return null==t?y:(y=t,c=3*t/2,w=t*Math.sqrt(3),p=c+d.top+d.bottom,m=w+d.left+d.right,v(),e)},e.center=function(){return[w/2,y]},e.height=function(){return c},e.width=function(){return w},e.clip=function(t){return null==t?b:(b=t,e)},e}}).call(this),t.exports=d3.ternary},7:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(1),l=n.n(o),i=n(4),u=n.n(i);n(3);let c,s=!1;const f=["colour","color","shape","linestyle","title","opacity"];function d(t){c?JSON.stringify(t.slice(0,3))!==JSON.stringify(c)&&u()("Your columns in Points, Lines and areas don't seem to match",`Your columns you entered first are "${c}" and for your columns now are "${t.slice(0,3)}". Your data will still be plotted, but it might not appear the way you intended.`,"warning"):(c=t.slice(0,3),s||(!function(t){const e=t.columns.slice(0,3);C.call(a.a.ternary.vertexLabels(e))}({columns:t}),s=!0)),t.some(t=>{f.includes(t)&&u()("Reserved column name",`You can't use any of the following names as your columns names: ${f.join(", ")}`,"error")})}const p=function(t){let e=t;const n=e.shift();return d(n),(e=(e=e.map(t=>t.filter(t=>null!==t))).filter(t=>0!==t.length)).map(t=>{return n.reduce(function(e,n,r){return e[n.toLowerCase()]=t[r],e},{})})},m=function(t){let e=t;const n=e.shift();d(n),e=e.map(t=>t.filter(t=>null!==t));const r=[];let a=[];for(let t=0;t<e.length;t++)0!==e[t].length?a.push(e[t]):0===e[t].length&&(0!==a.length&&r.push(a),a=[]);return r.map(t=>{return t.map(function(t){return n.reduce(function(e,n,r){return e[n.toLowerCase()]=t[r],e},{})})})},h={defaults:{pointColor:"black",pointShape:"circle",lineStyle:"none",lineColor:"black",lineStrokewidth:"4px",areaColor:"gold",areaOpacity:.2},setListeners:function(){document.querySelector('select[name="defaultColorPoints"]').onchange=function(){h.defaults.pointColor=event.target.value},document.querySelector('select[name="defaultShape"]').onchange=function(){h.defaults.pointShape=event.target.value},document.querySelector('select[name="defaultColorLines"]').onchange=function(){h.defaults.lineColor=event.target.value},document.querySelector('select[name="defaultLineStyle"]').onchange=function(){h.defaults.lineStyle=event.target.value},document.querySelector('select[name="defaultColorAreas"]').onchange=function(){h.defaults.areaColor=event.target.value},document.querySelector('select[name="defaultAreaOpacity"]').onchange=function(){h.defaults.areaOpacity=event.target.value}},Points:function(t){const e=t.slice([0,3]),n=a.a.svg.symbol();let r;C.plot().selectAll(".point").data(e).enter().append("path").attr("class","point").attr("fill",function(t){return t.color?t.color.trim():t.colour?t.colour.trim():h.defaults.pointColor}).attr("fill-opacity",function(t){return t.opacity?t.opacity.trim():1}).attr("d",n.type(function(t){return t.shape?t.shape.trim():h.defaults.pointShape})).attr("transform",function(t){const e=Object.keys(t);r=[t[e[0]],t[e[2]],t[e[1]]];const n=C.point(r);return"translate("+n[0]+","+n[1]+")"}).on("mouseover",L).on("mouseout",function(t){a.a.selectAll(".help-line").remove()}).append("title").text(function(t){const e=Object.keys(t),n=`${A(e[0])}: ${t[e[0]]}, ${A(e[2])}: ${t[e[2]]}, ${A(e[1])}: ${t[e[1]]}`;return t.title?`${A(t.title.trim())}; ${n}`:n})},Lines:function(t){C.plot().selectAll(".line").data(t).enter().append("path").attr("class","ternary-line").attr("d",function(t){let e=[];const n=Object.keys(t[0]);for(let r=0;r<=t.length-1;r+=1){const a=[+t[r][n[0]],+t[r][n[2]],+t[r][n[1]]];e.push(a)}return C.path(e)}).attr("stroke-dasharray",function(t){return t[0].linestyle?t[0].linestyle.trim():h.defaults.lineStyle}).attr("stroke",function(t){return t[0].color?t[0].color.trim():t[0].colour?t[0].colour.trim():h.defaults.lineColor}).attr("stroke-opacity",function(t){return t[0].opacity?t[0].opacity.trim():1}).attr("fill-opacity","0").attr("stroke-width",function(t){return t[0].strokewidth?t[0].strokewidth:h.defaults.lineStrokewidth}).append("title").text(function(t){return t[0].title?A(t[0].title.trim()):void 0})},Areas:function(t){C.plot().selectAll(".area").data(t).enter().append("path").attr("class","ternary-area").attr("d",function(t){let e=[];const n=Object.keys(t[0]);for(let r=0;r<=t.length-1;r+=1){const a=[+t[r][n[0]],+t[r][n[2]],+t[r][n[1]]];e.push(a)}return C.area(e)}).attr("z-index",-1).attr("fill",function(t){return t[0].color?t[0].color.trim():h.defaults.areaColor}).attr("fill-opacity",function(t){return t[0].opacity?t[0].opacity:.5}).append("title").text(function(t){return t[0].title?A(t[0].title.trim()):void 0})}};function y(t,e,n){return new l.a(t,{data:e,colHeaders:n,fixedRowsTop:1,manualColumnMove:!0,manualRowMove:!0,rowHeaders:!0,minRows:100,height:300,width:500,dropdownMenu:!0,manualColumnResize:!0})}const v=y(document.getElementById("pointsTable"),[["Sand","Silt","Clay","Color","Shape","Title"],[.3,.3,.4,"limegreen",,"Sample Nr 1"],[1,0,0],[0,1,0],[0,0,1],[.2,.5,.3,"coral"],[.3,.1,.6,"magenta","cross"],[.5,.5,0,"#d1b621","diamond"],[.6,.2,.2,"peru","triangle-up"]],["Variable 1","Variable 2","Variable 3","Color","Shape","Title"]),g=document.enterPoints;l.a.dom.addEvent(g,"submit",function(t){t.preventDefault();const e=p(v.getData());h.Points(e)});const b=y(document.getElementById("linesTable"),[["Sand","Silt","Clay","Color","Linestyle","Strokewidth","Title"],[.2,.8,0,"orangered","5 3 5",2,"dotted line 1"],[.8,0,.2],[],[.1,.1,.8,"slateblue"],[.4,.1,.5],[0,0,1]],["Variable 1","Variable 2","Variable 3","Color","Linestyle","Strokewidth","Title"]),x=document.enterLines;l.a.dom.addEvent(x,"submit",function(t){t.preventDefault();const e=m(b.getData());h.Lines(e)});var w=y(document.getElementById("areasTable"),[["Sand","Silt","Clay","Color","Opacity","Title"],[0,.5,.5,"palegreen",.1,"More than 50% silt"],[.5,.5,0],[0,1,0],[],[.5,0,.5,"moccasin",.4,"More than 50% sand"],[.5,.5,0],[1,0,0],[],[0,.5,.5,"coral",.3,"More than 50% clay"],[.5,0,.5],[0,0,1]],["Variable 1","Variable 2","Variable 3","Color","Opacity","Title"]);const k=document.enterAreas;function A(t){return t.toLowerCase().replace(/\b[a-z]/g,function(t){return t.toUpperCase()})}l.a.dom.addEvent(k,"submit",function(t){t.preventDefault();const e=m(w.getData());h.Areas(e)});const S=a.a.ternary.graticule().majorInterval(.2).minorInterval(.05),C=a.a.ternary.plot().call(P,[500,500]).call(a.a.ternary.scalebars()).call(a.a.ternary.neatline()).call(S);function L(t){let e=Object.values(t);const n=[[e=[e[0],e[2],e[1]],[0,parseFloat(e[0])+parseFloat(e[1]),parseFloat(e[2])]],[e,[parseFloat(e[0]),0,parseFloat(e[1])+parseFloat(e[2])]],[e,[parseFloat(e[0])+parseFloat(e[2]),parseFloat(e[1]),0]]];C.plot().selectAll(".line").data(n).enter().append("path").attr("class","help-line").attr("d",function(t){return C.path(t)}).attr("stroke-dasharray","3, 3, 3").attr("stroke","black").attr("stroke-width","1px").attr("z-index","-1")}function E(){a.a.selectAll(".vertex-label").remove(),s=!1,c=void 0}function O(t){a.a.selectAll(".point").remove()}function j(t){a.a.selectAll(".ternary-line").remove()}function M(t){a.a.selectAll(".ternary-area").remove()}function P(t){window.innerWidth>600?t.fit(500,500):t.fit(window.innerWidth,window.innerHeight)}a.a.select("#ternary-plot").call(C);const T=document.getElementById("clearPoints");T.addEventListener("click",O),T.addEventListener("mouseover",function(t){a.a.selectAll(".point").attr("opacity","0.4"),setTimeout(function(){a.a.selectAll(".point").attr("opacity","1")},600)});const I=document.getElementById("clearLines");I.addEventListener("click",j),I.addEventListener("mouseover",function(t){a.a.selectAll(".ternary-line").attr("stroke-opacity","0.3"),setTimeout(function(){a.a.selectAll(".ternary-line").attr("stroke-opacity","1")},600)});const V=document.getElementById("clearAreas");V.addEventListener("click",M),V.addEventListener("mouseover",function(t){a.a.selectAll(".ternary-area").attr("fill-opacity","0.1"),setTimeout(function(){a.a.selectAll(".ternary-area").attr("fill-opacity","1")},600)});const z=document.getElementById("clearLabels");z.addEventListener("click",E),z.addEventListener("mouseover",function(t){a.a.selectAll(".vertex-label").attr("text-decoration","line-through"),setTimeout(function(){a.a.selectAll(".vertex-label").attr("text-decoration","none")},600)});const $=document.getElementById("clearAll");$.addEventListener("click",function(t){j(),O(),E(),M()}),$.addEventListener("mouseover",function(t){a.a.selectAll(".ternary-line,.vertex-label,.ternary-area,.point").attr("fill-opacity","0.3").attr("text-decoration","line-through").attr("stroke-opacity","0.3"),setTimeout(function(){a.a.selectAll(".ternary-line,.vertex-label,.ternary-area,.point").attr("fill-opacity","1").attr("text-decoration","none").attr("stroke-opacity","1")},600)}),window.addEventListener("resize",P(C))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3Rlcm5hcnkudjMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21haW4uanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIxIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJfcGxvdEJvdW5kcyIsImFuZ2xlcyIsImNvczMwIiwibGluZSIsInBhdGgiLCJyYW5kb21pZCIsImQzIiwidGVybmFyeSIsIk1hdGgiLCJzcXJ0IiwidGlja1ZhbHVlcyIsInBvcyIsInBvc3NpYmxlIiwidGV4dCIsImZsb29yIiwicmFuZG9tIiwiY2hhckF0IiwiaW50ZXJwb2xhdG9yIiwic3ZnIiwieCIsInkiLCJpbnRlcnBvbGF0ZSIsImdyYXRpY3VsZSIsIm1ham9ySW50ZXJ2YWwiLCJtYWpvclRpY2tzIiwibWlub3JJbnRlcnZhbCIsIm1pbm9yVGlja3MiLCJpbnQiLCJzdGFydCIsInRpY2tzIiwicGxvdCIsImF4aXNHcmF0aWN1bGUiLCJncmF0QXhlcyIsIm1hcCIsImF4aXMiLCJjb250YWluZXIiLCJkcmF3Iiwic2VsQSIsInNlbEIiLCJzZWxlY3QiLCJ0aGlzIiwic2VsZWN0QWxsIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwic2NhbGUiLCJzY2FsZXMiLCJydWxlIiwib24iLCJheGVzIiwiZWFjaCIsInNjYWxlYmFycyIsIm9wdHMiLCJhZGp1c3RUZXh0IiwiZm9ybWF0TGFiZWwiLCJsYWJlbHMiLCJzY2FsZWJhciIsInRpY2tTaXplIiwidGlja0Zvcm1hdCIsImZvcm1hdCIsIm9yaWVudCIsImR5Iiwid2lkdGgiLCJiX2F4ZXMiLCJsYWJlbFNlbCIsIm9mZnMiLCJmb3JFYWNoIiwiY29weSIsInJhZGl1cyIsImNlbnRlciIsImVsIiwidmVydGV4TGFiZWxzIiwic2VsIiwicm90YXRlIiwidmVydHMiLCJ2ZXJ0aWNlcyIsImxhYmVsIiwidmVydGV4IiwidG9Mb3dlckNhc2UiLCJ0cmFuc2Zvcm0iLCJyZWYiLCJuZWF0bGluZSIsIm5vZGUiLCJfIiwiYSIsImRvbWFpbnMiLCJwb2ludHMiLCJ2IiwiZG9tYWluIiwiZGF0dW0iLCJpZCIsInJhd1BvaW50Iiwiam9pbiIsIlQiLCJjYWxsT25DcmVhdGUiLCJkZWZzIiwiZXZlbnRzIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwibWFyZ2luIiwib3V0ZXJIZWlnaHQiLCJvdXRlcldpZHRoIiwicmVzY2FsZVZpZXciLCJzaG91bGRDbGlwIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwibGluZWFyIiwicmFuZ2UiLCJkaXNwYXRjaCIsInciLCJoIiwibGVuIiwicGFyZW50RWxlbWVudCIsImNsaXAtcGF0aCIsInJlc2l6ZSIsInhsaW5rOmhyZWYiLCJmIiwiZml0IiwibmgiLCJudyIsImFyZ3VtZW50cyIsInBvaW50IiwiY29vcmRzIiwic3VtIiwiQSIsIkIiLCJiIiwiYXJnIiwiaW52ZXJ0IiwiY29vcmRzTGlzdCIsImFjY2Vzc29yIiwicG9zaXRpb25zIiwiYXJlYSIsImVuZHMiLCJwYWQiLCJQSSIsInNpbiIsImNvcyIsImNsaXAiLCJjb2x1bW5zIiwibGFiZWxzQWRkZWQiLCJyZXNlcnZlZCIsImNoZWNrQ29sdW1ucyIsImNvbHVtbk5hbWVzIiwiSlNPTiIsInN0cmluZ2lmeSIsInN3ZWV0YWxlcnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX19kZWZhdWx0IiwiY29scyIsImQzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsImFkZFZlcnRleExhYmVscyIsInNvbWUiLCJpbmNsdWRlcyIsInBhcnNlIiwibGluZXMiLCJjb2x1bW5zQXJyYXkiLCJhcnIiLCJmaWx0ZXIiLCJlbnRyeSIsInJlZHVjZSIsImNvbHVtbiIsImRyYXdMaW5lcyIsImRyYXdMaW5lIiwiRHJhdyIsImRlZmF1bHRzIiwicG9pbnRDb2xvciIsInBvaW50U2hhcGUiLCJsaW5lU3R5bGUiLCJsaW5lQ29sb3IiLCJsaW5lU3Ryb2tld2lkdGgiLCJhcmVhQ29sb3IiLCJhcmVhT3BhY2l0eSIsInNldExpc3RlbmVycyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9uY2hhbmdlIiwiZXZlbnQiLCJ0YXJnZXQiLCJQb2ludHMiLCJ2YWx1ZXMiLCJzeW1ib2wiLCJteVZhbHVlcyIsImNvbG9yIiwidHJpbSIsImNvbG91ciIsIm9wYWNpdHkiLCJ0eXBlIiwic2hhcGUiLCJteUtleXMiLCJrZXlzIiwicGxvdENvb3JkcyIsImhhbmRsZU1vdXNlT3ZlciIsImUiLCJyZW1vdmUiLCJ2YWx1ZXNTdHJpbmciLCJjYXBpdGFsaXplIiwidGl0bGUiLCJMaW5lcyIsImRyYXdBcnJheSIsImN1cnJlbnQiLCJsaW5lc3R5bGUiLCJzdHJva2V3aWR0aCIsInVuZGVmaW5lZCIsIkFyZWFzIiwiSGFuZHNPblRhYmxlQ3JlYXRvciIsIklEIiwic2FtcGxlRGF0YSIsInBsYWNlaG9sZGVyIiwiSGFuZHNvbnRhYmxlX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19fZGVmYXVsdCIsImNvbEhlYWRlcnMiLCJmaXhlZFJvd3NUb3AiLCJtYW51YWxDb2x1bW5Nb3ZlIiwibWFudWFsUm93TW92ZSIsInJvd0hlYWRlcnMiLCJtaW5Sb3dzIiwiZHJvcGRvd25NZW51IiwibWFudWFsQ29sdW1uUmVzaXplIiwicG9pbnRzVGFibGUiLCJnZXRFbGVtZW50QnlJZCIsInN1Ym1pdFBvaW50c0J1dHRvbiIsImVudGVyUG9pbnRzIiwiZG9tIiwiYWRkRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInBhcnNlZFBvaW50cyIsImdldERhdGEiLCJsaW5lc1RhYmxlIiwic3VibWl0TGluZXNCdXR0b24iLCJlbnRlckxpbmVzIiwicGFyc2VkTGluZXMiLCJhcmVhc1RhYmxlIiwic3VibWl0QXJlYXNCdXR0b24iLCJlbnRlckFyZWFzIiwid29yZCIsInJlcGxhY2UiLCJsZXR0ZXIiLCJ0b1VwcGVyQ2FzZSIsInBhcnNlZEFyZWFzIiwicG9pbnRWYWx1ZXMiLCJoZWxwTGluZXNBcnJheSIsInBhcnNlRmxvYXQiLCJjbGVhckxhYmVscyIsImNsZWFyUG9pbnRzIiwiY2xlYXJMaW5lcyIsImNsZWFyQXJlYXMiLCJjbGVhclBvaW50c0J1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRUaW1lb3V0IiwiY2xlYXJMaW5lc0J1dHRvbiIsImNsZWFyQXJlYXNCdXR0b24iLCJjbGVhckxhYmVsc0J1dHRvbiIsImNsZWFyQWxsQnV0dG9uIl0sIm1hcHBpbmdzIjoiYUFDQSxTQUFBQSxFQUFBQyxHQVFBLElBUEEsSUFNQUMsRUFBQUMsRUFOQUMsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdB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QW5FLEVBQUEzQyxVQUFBLGlCQUNBRyxLQUFBLDJCQS9DQSxPQW1EQSxNQUFBaU4sRUFBQTlFLFNBQUE2QyxlQUFBLFlBQ0FpQyxFQUFBTCxpQkFBQSxRQWhFQSxTQUFBdEQsR0FDQW1ELElBQ0FELElBQ0FELElBQ0FHLE1BNkRBTyxFQUFBTCxpQkFBQSxxQkFBQXRFLEdBQ0EzQixFQUFBbkUsRUFBQTNDLFVBQUEsb0RBQ0FHLEtBQUEsc0JBQ0FBLEtBQUEsa0NBQ0FBLEtBQUEsd0JBRUE2TSxXQUFBLFdBQ0FsRyxFQUFBbkUsRUFBQTNDLFVBQUEsb0RBQ0FHLEtBQUEsb0JBQ0FBLEtBQUEsMEJBQ0FBLEtBQUEsdUJBL0RBLE9BbUVBL0MsT0FBQTJQLGlCQUFBLFNBQUFuSSxFQUFBOUciLCJmaWxlIjoiYXBwLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDE6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzcsMCwzXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsIi8qXG4gIGQzLXRlcm5hcnk6IE1JVCBMaWNlbnNlXG4gIENvcHlyaWdodCAoYykgMjAxOCBEYXZlbiBRdWlublxuXG4gIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG4gIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuKi9cblxuLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbihmdW5jdGlvbigpIHtcbiAgdmFyIF9wbG90Qm91bmRzLCBhbmdsZXMsIGNvczMwLCBsaW5lLCBwYXRoLCByYW5kb21pZDtcblxuICBwYXRoID0gdm9pZCAwO1xuXG4gIGQzLnRlcm5hcnkgPSB7fTtcblxuICBjb3MzMCA9IE1hdGguc3FydCgzKSAvIDI7XG5cbiAgdGlja1ZhbHVlcyA9IFsuMiwgLjQsIC42LCAuOCwgMV1cblxuICByYW5kb21pZCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpLCBqLCBwb3MsIHBvc3NpYmxlLCB0ZXh0O1xuICAgIHRleHQgPSBcIlwiO1xuICAgIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG4gICAgZm9yIChpID0gaiA9IDA7IGogPD0gMzsgaSA9ICsraikge1xuICAgICAgcG9zID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKTtcbiAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KHBvcyk7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9O1xuXG4gIGxpbmUgPSBmdW5jdGlvbihpbnRlcnBvbGF0b3IpIHtcbiAgICBpZiAoIWludGVycG9sYXRvcikge1xuICAgICAgaW50ZXJwb2xhdG9yID0gJ2xpbmVhcic7XG4gICAgfVxuICAgIHJldHVybiBwYXRoID0gZDMuc3ZnLmxpbmUoKVxuICAgICAgLngoZnVuY3Rpb24oZCkgeyByZXR1cm4gZFswXTsgfSlcbiAgICAgIC55KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGRbMV07IH0pXG4gICAgICAuaW50ZXJwb2xhdGUoaW50ZXJwb2xhdG9yKTtcbiAgfTtcblxuICBhbmdsZXMgPSBbMCwgMTIwLCAyNDBdO1xuXG4gIC8qIC0tLS0tIEdyYXRpY3VsZXMgLS0tLS0gKi9cbiAgZDMudGVybmFyeS5ncmF0aWN1bGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZ3JhdGljdWxlLCBtYWpvckludGVydmFsLCBtYWpvclRpY2tzLCBtaW5vckludGVydmFsLCBtaW5vclRpY2tzO1xuICAgIFxuICAgIG1ham9ySW50ZXJ2YWwgPSAwLjE7IC8vU3RlcHNpemUgZm9yIGxpbmVzXG4gICAgbWlub3JJbnRlcnZhbCA9IG51bGw7XG5cbiAgICBtYWpvclRpY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW50LCBzdGFydCwgdGlja3M7XG4gICAgICB0aWNrcyA9IFtdO1xuICAgICAgaW50ID0gbWFqb3JJbnRlcnZhbDtcbiAgICAgIHN0YXJ0ID0gaW50O1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgMSkge1xuICAgICAgICB0aWNrcy5wdXNoKHN0YXJ0KTtcbiAgICAgICAgc3RhcnQgKz0gaW50O1xuICAgICAgfVxuXG4gICAgICAvLyBjb25zb2xlLmxvZyhcInRpY2tzXCIsIHRpY2tzKTtcblxuICAgICAgcmV0dXJuIHRpY2tzO1xuICAgIH07XG5cbiAgICBtaW5vclRpY2tzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3RhcnQsIHRpY2tzO1xuICAgICAgdGlja3MgPSBbXTtcbiAgICAgIGlmIChtaW5vckludGVydmFsID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRpY2tzO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBtaW5vckludGVydmFsO1xuICAgICAgd2hpbGUgKHN0YXJ0IDwgMSkge1xuICAgICAgICBpZiAoc3RhcnQgJSBtYWpvckludGVydmFsICE9PSAwKSB7XG4gICAgICAgICAgdGlja3MucHVzaChzdGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RhcnQgKz0gbWlub3JJbnRlcnZhbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aWNrcztcbiAgICB9O1xuXG4gICAgZ3JhdGljdWxlID0gZnVuY3Rpb24ocGxvdCkge1xuICAgICAgdmFyIGF4aXNHcmF0aWN1bGUsIGdyYXRBeGVzO1xuICAgICAgZ3JhdEF4ZXMgPSBbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZDMuc3ZnLmF4aXMoKVxuICAgICAgICAgICAgICAudGlja1ZhbHVlcyhtYWpvclRpY2tzKCkpO1xuICAgICAgfSk7XG4gICAgICBheGlzR3JhdGljdWxlID0gZnVuY3Rpb24oYXhpcywgaSkge1xuICAgICAgICB2YXIgY29udGFpbmVyLCBkcmF3LCBzZWxBLCBzZWxCO1xuICAgICAgICBjb250YWluZXIgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgICAgIFxuICAgICAgICBzZWxBID0gY29udGFpbmVyLnNlbGVjdEFsbChcInBhdGgubWlub3JcIikuZGF0YShtaW5vclRpY2tzKCkpO1xuICAgICAgICBzZWxBLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgYG1pbm9yIGF4aXMtJHtpfWAgICk7XG5cbiAgICAgICAgc2VsQiA9IGNvbnRhaW5lci5zZWxlY3RBbGwoXCJwYXRoLm1ham9yXCIpLmRhdGEobWFqb3JUaWNrcygpKTtcbiAgICAgICAgc2VsQi5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIGBtYWpvciBheGlzLSR7aX1gICApO1xuXG4gICAgICAgIGRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcInBsb3QucnVsZShpKVwiLCBwbG90LnJ1bGUoaSkpO1xuICAgICAgICAgIGF4aXMuc2NhbGUocGxvdC5zY2FsZXNbaV0pO1xuICAgICAgICAgIHNlbEEuYXR0cihcImRcIiwgcGxvdC5ydWxlKGkpKVxuXG4gICAgICAgICAgcmV0dXJuIHNlbEIuYXR0cihcImRcIiwgcGxvdC5ydWxlKGkpKTtcbiAgICAgICAgfTtcblxuICAgICAgICBwbG90Lm9uKFwicmVzaXplLlwiICsgKHJhbmRvbWlkKCkpLCBkcmF3KTtcbiAgICAgICAgcmV0dXJuIGRyYXcoKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHJldHVybiBwbG90LmF4ZXMoKVxuICAgICAgICAgICAgICAuc2VsZWN0QWxsKFwiLmdyYXRpY3VsZVwiKVxuICAgICAgICAgICAgICAuZGF0YShncmF0QXhlcylcbiAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJncmF0aWN1bGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsaXAtcGF0aFwiLCBcInVybCgjYXhlc0NsaXApXCIpXG4gICAgICAgICAgICAgICAgLmVhY2goYXhpc0dyYXRpY3VsZSk7XG4gICAgfTtcblxuICAgIGdyYXRpY3VsZS5heGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ3JhdEF4ZXM7XG4gICAgfTtcblxuICAgIGdyYXRpY3VsZS5tYWpvckludGVydmFsID0gZnVuY3Rpb24oZCkge1xuICAgICAgaWYgKCFkKSB7XG4gICAgICAgIHJldHVybiBtYWpvckludGVydmFsO1xuICAgICAgfVxuICAgICAgbWFqb3JJbnRlcnZhbCA9IGQ7XG4gICAgICByZXR1cm4gZ3JhdGljdWxlO1xuICAgIH07XG5cbiAgICBncmF0aWN1bGUubWlub3JJbnRlcnZhbCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmICghZCkge1xuICAgICAgICByZXR1cm4gbWlub3JJbnRlcnZhbDtcbiAgICAgIH1cbiAgICAgIG1pbm9ySW50ZXJ2YWwgPSBkO1xuICAgICAgcmV0dXJuIGdyYXRpY3VsZTtcbiAgICB9O1xuICAgIHJldHVybiBncmF0aWN1bGU7XG4gIH07XG5cbiAgLyogLS0tLS0gU2NhbGViYXJzIC0tLS0tICovXG4gIGQzLnRlcm5hcnkuc2NhbGViYXJzID0gZnVuY3Rpb24ob3B0cykge1xuICAgIHZhciBhZGp1c3RUZXh0LCBheGVzLCBmb3JtYXRMYWJlbCwgbGFiZWxzLCBwbG90LCBzY2FsZWJhcjtcbiAgICBcbiAgICBpZiAob3B0cyA9PSBudWxsKSB7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIHNjYWxlYmFyXCIpO1xuICAgIHBsb3QgPSBudWxsO1xuICAgIGxhYmVscyA9IG9wdHMubGFiZWxzIHx8IG51bGw7XG5cbiAgICBheGVzID0gWzAsIDEsIDJdLm1hcChmdW5jdGlvbihpKSB7XG4gICAgICByZXR1cm4gZDMuc3ZnLmF4aXMoKVxuICAgICAgICAgICAgICAudGlja1NpemUoMTApXG4gICAgICAgICAgICAgIC50aWNrRm9ybWF0KGQzLmZvcm1hdChcIiVcIikpXG4gICAgICAgICAgICAgIC50aWNrVmFsdWVzKHRpY2tWYWx1ZXMpXG4gICAgICAgICAgICAgIC5vcmllbnQoXCJ0b3BcIik7XG4gICAgfSk7XG5cbiAgICBhZGp1c3RUZXh0ID0gZnVuY3Rpb24oZCwgaSkge1xuXG4gICAgICAvLyBTZXQgbGVmdCBheGlzIHRpY2tsYWJlbHMgc3RyYWlnaHRcbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBkMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBkMy5zZWxlY3QodGhpcykuYXR0cihcInlcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMjIgXCIgKyAoLXkpICsgXCIpIHJvdGF0ZSg2MCAwIFwiICsgKDQuNSAqIHkpICsgXCIpXCI7IC8vLTE4MFxuICAgICAgICAgIH0pICYmIGQzLnNlbGVjdCh0aGlzKS5zZWxlY3RBbGwoXCJsaW5lXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgY29uc3QgeSA9IGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwieVwiKTtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgwIFwiICsgKC15KSArIFwiKSByb3RhdGUoLTMwIDAgXCIgKyAoMSAqIHkpICsgXCIpXCI7IC8vLTE4MFxuICAgICAgICAgIH0pOztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGQzLnNlbGVjdCh0aGlzKS5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICBjb25zdCB5ID0gZDMuc2VsZWN0KHRoaXMpLmF0dHIoXCJ5XCIpO1xuICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgtMjcgXCIgKyAoLXkpICsgXCIpIHJvdGF0ZSgtMTIwIDAgXCIgKyAoMi41ICogeSkgKyBcIilcIjsgLy8tMTgwXG4gICAgICAgIH0pICYmIGQzLnNlbGVjdCh0aGlzKS5zZWxlY3RBbGwoXCJsaW5lXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgY29uc3QgeSA9IGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwieVwiKTtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgwIFwiICsgKC15KSArIFwiKSByb3RhdGUoLTMwIDAgXCIgKyAoMSAqIHkpICsgXCIpXCI7IC8vLTE4MFxuICAgICAgICAgIH0pOztcbiAgICB9O1xuXG4gICAgZm9ybWF0TGFiZWwgPSBmdW5jdGlvbihkLCBpKSB7XG4gICAgICB2YXIgZHksIHQsIHdpZHRoO1xuICAgICAgd2lkdGggPSBwbG90LndpZHRoKCk7XG4gICAgICBkeSA9IC0zMDtcbiAgICAgIHQgPSBcInRyYW5zbGF0ZShcIiArICh3aWR0aCAvIDIpICsgXCIpXCI7XG4gICAgICBpZiAoaSA9PT0gMikge1xuICAgICAgICBkeSA9IDQyO1xuICAgICAgICB0ID0gXCIgcm90YXRlKC0xODAgMCAwKSB0cmFuc2xhdGUoXCIgKyAoLXdpZHRoIC8gMikgKyBcIilcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkMy5zZWxlY3QodGhpcylcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIHQpXG4gICAgICAgIC5hdHRyKFwieVwiLCBkeSlcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAudGV4dChkKTtcbiAgICB9O1xuXG4gICAgLy8gY29uc29sZS5pbmZvKFwiZm9ybWF0TGFiZWxcIiwgZm9ybWF0TGFiZWwpO1xuXG4gICAgc2NhbGViYXIgPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgYl9heGVzLCBkcmF3O1xuICAgICAgLy8gY29uc29sZS5sb2coXCJBZGRpbmcgc2NhbGViYXIgdG8gcGxvdFwiKTtcbiAgICAgIHBsb3QgPSBwO1xuICAgICAgYl9heGVzID0gcGxvdC5heGVzKCkuc2VsZWN0QWxsKFwiLmJhcnktYXhpc1wiKS5kYXRhKGFuZ2xlcykuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgIGQgPSBcImJhcnktYXhpc1wiO1xuICAgICAgICAgIGlmIChpID09PSAyKSB7XG4gICAgICAgICAgICBkICs9ICcgYm90dG9tJztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgIH0pO1xuXG4gICAgICBiX2F4ZXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGQzLnNlbGVjdCh0aGlzKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIGRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxhYmVsU2VsLCBvZmZzLCByO1xuXG4gICAgICAgIGF4ZXMuZm9yRWFjaChmdW5jdGlvbihheGlzLCBpKSB7XG4gICAgICAgICAgdmFyIGQsIHM7XG4gICAgICAgICAgcyA9IHBsb3Quc2NhbGVzW2ldLmNvcHkoKTtcbiAgICAgICAgICAvKiBUbyByZXZlcnNlIGJvdHRvbSBheGlzICg/KVxuICAgICAgICAgIGlmIChpID09PSAyKSB7XG4gICAgICAgICAgICBkID0gcy5kb21haW4oKTtcbiAgICAgICAgICAgIHMuZG9tYWluKGQpLnJldmVyc2UoKVxuICAgICAgICAgIH1cbiAgICAgICAgICAqL1xuICAgICAgICAgIHJldHVybiBheGlzLnNjYWxlKHMpO1xuICAgICAgICB9KTtcblxuICAgICAgICByID0gcGxvdC5yYWRpdXMoKTtcbiAgICAgICAgb2ZmcyA9IHBsb3QuY2VudGVyKCk7XG5cbiAgICAgICAgYl9heGVzLmVhY2goZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgIHZhciBlbDtcbiAgICAgICAgICBlbCA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICAgICAgICByZXR1cm4gYXhlc1tpXShlbCk7XG4gICAgICAgIH0pLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgY29uc3QgeCA9IG9mZnNbMF07XG4gICAgICAgICAgICBjb25zdCB5ID0gb2Zmc1sxXTtcblxuICAgICAgICAgICAgcmV0dXJuIFwicm90YXRlKFwiICsgKC02MCArIGkgKiAxMjApICsgXCIgXCIgKyB4ICsgXCIgXCIgKyB5ICsgXCIpIHRyYW5zbGF0ZSgwIFwiICsgKHIgLyAyKSArIFwiKVwiOyAvL1wicm90YXRlKFwiICsgKC02MCArIGkgKiAxMjApICsgXCIgXCIgKyB4ICsgXCIgXCIgKyB5ICsgXCIpIHRyYW5zbGF0ZSgwIFwiICsgKHIgLyAyKSArIFwiKVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgKS5lYWNoKGFkanVzdFRleHQpO1xuXG4gICAgICAgIGlmIChsYWJlbFNlbCkgcmV0dXJuIGxhYmVsU2VsID0gcGxvdC5heGVzKCkuc2VsZWN0QWxsKCcuYmFyeS1heGlzIC5sYWJlbCcpLmRhdGEobGFiZWxzKS5lYWNoKGZvcm1hdExhYmVsKTtcbiAgICAgIH07XG4gICAgICBwbG90Lm9uKFwicmVzaXplLlwiICsgKHJhbmRvbWlkKCkpLCBkcmF3KTtcbiAgICAgIHJldHVybiBkcmF3KCk7XG4gICAgfTtcblxuICAgIHNjYWxlYmFyLmxhYmVscyA9IGZ1bmN0aW9uKGwpIHtcbiAgICAgIGlmIChsID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGxhYmVscztcbiAgICAgIH1cbiAgICAgIGxhYmVscyA9IGw7XG4gICAgICByZXR1cm4gc2NhbGViYXI7XG4gICAgfTtcbiAgICBzY2FsZWJhci5heGVzID0gYXhlcztcbiAgICByZXR1cm4gc2NhbGViYXI7XG4gIH07XG5cbiAgLyogLS0tLS0gVmVydGV4IGFiZWxzIC0tLS0tICovXG4gIGQzLnRlcm5hcnkudmVydGV4TGFiZWxzID0gZnVuY3Rpb24obGFiZWxzKSB7XG4gICAgdmFyIHNlbCA9IG51bGw7XG4gICAgdmFyIHJvdGF0ZSA9IFswLCA2MCwgLTYwXTtcbiAgICB2YXIgcGFkID0gMjA7XG5cbiAgICB2YXIgTCA9IGZ1bmN0aW9uKHBsb3QpIHtcbiAgICAgIHZhciBkYXRhLCBkcmF3LCB2ZXJ0cztcbiAgICAgIHZlcnRzID0gcGxvdC52ZXJ0aWNlcyhwYWQpO1xuICAgICAgZGF0YSA9IGxhYmVscy5tYXAoZnVuY3Rpb24obCwgaSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGxhYmVsOiBsLFxuICAgICAgICAgIHZlcnRleDogdmVydHNbaV1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgc2VsID0gcGxvdC5heGVzKCkuc2VsZWN0QWxsKFwiLnZlcnRleC1sYWJlbFwiKS5kYXRhKGRhdGEpO1xuICAgICAgc2VsLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKS50ZXh0KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubGFiZWw7fSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7IHJldHVybiBcInZlcnRleC1sYWJlbCBcIiArIGQubGFiZWwudG9Mb3dlckNhc2UoKTt9IClcblxuICAgICAgZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gc2VsLmF0dHIoe1xuICAgICAgICAgIHRyYW5zZm9ybTogZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgdmFyIHJlZiwgeCwgeTtcbiAgICAgICAgICAgIHJlZiA9IGQudmVydGV4LCB4ID0gcmVmWzBdICwgeSA9IHJlZlsxXTtcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHggKyBcIixcIiArIHkgKyBcIilyb3RhdGUoXCIgKyByb3RhdGVbaV0gKyBcIilcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgcGxvdC5vbihcInJlc2l6ZS5cIiArIChyYW5kb21pZCgpKSwgZHJhdyk7XG4gICAgICBkcmF3KCk7XG4gICAgICByZXR1cm4gc2VsO1xuICAgIH07XG5cbiAgICByZXR1cm4gTDtcbiAgfTtcblxuICAvKiAtLS0tLSBOZWF0bGluZSAtLS0tLSAqL1xuICBkMy50ZXJuYXJ5Lm5lYXRsaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5lYXRsaW5lO1xuICAgIG5lYXRsaW5lID0gZnVuY3Rpb24ocGxvdCkge1xuICAgICAgdmFyIGVsO1xuICAgICAgcmV0dXJuIGVsID0gcGxvdC5ub2RlKCkuYXBwZW5kKFwidXNlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJuZWF0bGluZVwiKVxuICAgICAgICAuYXR0cihcInhsaW5rOmhyZWZcIiwgXCIjYm91bmRzXCIpXG4gICAgICB9O1xuICAgIFxuICAgIHJldHVybiBuZWF0bGluZTtcbiAgfVxuXG4gIF9wbG90Qm91bmRzID0gZnVuY3Rpb24ocGxvdCkge1xuICAgIHZhciBfLCBhLCBkb21haW5zLCBkcmF3LCBlbCwgaSwgaiwgcG9pbnRzLCB2O1xuICAgIGRvbWFpbnMgPSBwbG90LnNjYWxlcy5tYXAoZnVuY3Rpb24ocykge1xuICAgICAgcmV0dXJuIHMuZG9tYWluKCk7XG4gICAgfSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcImRvbWFpbnNcIiwgZG9tYWlucyk7XG4gICAgcG9pbnRzID0gW107XG4gICAgZm9yIChpID0gaiA9IDA7IGogPD0gMjsgaSA9ICsraikge1xuICAgICAgdiA9IGkgLSAxO1xuICAgICAgaWYgKHYgPT09IC0xKSB7XG4gICAgICAgIHYgPSAyO1xuICAgICAgfVxuICAgICAgYSA9IGRvbWFpbnMubWFwKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcmV0dXJuIGRbMF07XG4gICAgICB9KTtcbiAgICAgIGFbdl0gPSBkb21haW5zW3ZdWzFdO1xuICAgICAgcG9pbnRzLnB1c2goYSk7XG4gICAgICBhID0gZG9tYWlucy5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgICByZXR1cm4gZFswXTtcbiAgICAgIH0pO1xuICAgICAgYVtpXSA9IGRvbWFpbnNbaV1bMV07XG4gICAgICBwb2ludHMucHVzaChhKTtcbiAgICB9XG5cbiAgICBfID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgIGVsID0gXy5zZWxlY3QoXCIjYm91bmRzXCIpO1xuICAgIGlmIChlbC5ub2RlKCkgPT0gbnVsbCkge1xuICAgICAgZWwgPSBfLmFwcGVuZChcInBvbHlnb25cIik7XG4gICAgfVxuICAgIGVsLmRhdHVtKHBvaW50cykuYXR0cih7XG4gICAgICBpZDogJ2JvdW5kcydcbiAgICB9KTtcbiAgICBkcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZWwuYXR0cih7XG4gICAgICAgIHBvaW50czogZnVuY3Rpb24oZCkge1xuICAgICAgICAgIHZhciBkaTtcbiAgICAgICAgICBkaSA9IGQubWFwKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgICAgIGkgPSBwbG90LnJhd1BvaW50KGMpO1xuICAgICAgICAgICAgcmV0dXJuIGkuam9pbihcIixcIik7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGRpLmpvaW4oXCIgXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHBsb3Qub24oXCJyZXNpemUuXCIgKyAocmFuZG9taWQoKSksIGRyYXcpO1xuICAgIHJldHVybiBkcmF3KCk7XG4gIH07XG5cbiAgZDMudGVybmFyeS5wbG90ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIFQsIGF4ZXMsIGNhbGxPbkNyZWF0ZSwgZGVmcywgZXZlbnRzLCBoZWlnaHQsIGlubmVySGVpZ2h0LCBpbm5lcldpZHRoLCBtYXJnaW4sIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoLCBwbG90LCByYWRpdXMsIHJlc2NhbGVWaWV3LCBzY2FsZXMsIHNob3VsZENsaXAsIHN2Zywgd2lkdGg7XG4gICAgXG4gICAgLy8gRGltZW5zaW9uc1xuICAgIG91dGVyV2lkdGggPSA1MDA7XG4gICAgb3V0ZXJIZWlnaHQgPSA1MDA7XG4gICAgbWFyZ2luID0ge1xuICAgICAgdG9wOiA1MCxcbiAgICAgIGJvdHRvbTogNTAsXG4gICAgICBsZWZ0OiA1MCxcbiAgICAgIHJpZ2h0OiA1MFxuICAgIH07XG4gICAgcmFkaXVzID0gbnVsbDtcbiAgICBoZWlnaHQgPSBudWxsO1xuICAgIHdpZHRoID0gbnVsbDtcbiAgICBcbiAgICBzdmcgPSBudWxsO1xuICAgIGF4ZXMgPSBudWxsO1xuICAgIHBsb3QgPSBudWxsO1xuICAgIGRlZnMgPSBudWxsO1xuICAgIHNob3VsZENsaXAgPSBmYWxzZTtcbiAgICBjYWxsT25DcmVhdGUgPSBbXTtcbiAgICBcbiAgICBzY2FsZXMgPSBbMCwgMSwgMl0ubWFwKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGQzLnNjYWxlLmxpbmVhcigpLmRvbWFpbihbMCwgMV0pLnJhbmdlKFswLCAxXSk7XG4gICAgfSk7XG4gICAgZXZlbnRzID0gZDMuZGlzcGF0Y2goXCJyZXNpemVcIik7XG5cbiAgICBpbm5lcldpZHRoID0gZnVuY3Rpb24odykge1xuICAgICAgcmV0dXJuIHcgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICB9O1xuXG4gICAgaW5uZXJIZWlnaHQgPSBmdW5jdGlvbihoKSB7XG4gICAgICByZXR1cm4gaCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICAgIH07XG5cbiAgICByZXNjYWxlVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNlbnRlciwgaiwgbGVuLCBzO1xuICAgICAgaWYgKHdpZHRoID09IG51bGwpIHtcbiAgICAgICAgd2lkdGggPSBpbm5lcldpZHRoKG91dGVyV2lkdGgpO1xuICAgICAgfVxuICAgICAgaWYgKGhlaWdodCA9PSBudWxsKSB7XG4gICAgICAgIGhlaWdodCA9IGlubmVySGVpZ2h0KG91dGVySGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGlmIChyYWRpdXMgPT0gbnVsbCkge1xuICAgICAgICByYWRpdXMgPSB3aWR0aCAvIE1hdGguc3FydCgzKTtcbiAgICAgIH1cbiAgICAgIGNlbnRlciA9IFt3aWR0aCAvIDIsIHJhZGl1c107XG4gICAgICBpZiAoc3ZnID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3ZnLmF0dHIoe1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIixcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgfSk7XG4gICAgICBkMy5zZWxlY3Qoc3ZnLm5vZGUoKS5wYXJlbnRFbGVtZW50KS5hdHRyKHtcbiAgICAgICAgd2lkdGg6IG91dGVyV2lkdGgsXG4gICAgICAgIGhlaWdodDogb3V0ZXJIZWlnaHRcbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBzY2FsZXMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgcyA9IHNjYWxlc1tqXTtcbiAgICAgICAgcy5yYW5nZShbMCwgd2lkdGhdKTtcbiAgICAgIH1cbiAgICAgIF9wbG90Qm91bmRzLmNhbGwoZGVmcy5ub2RlKCksIFQpO1xuICAgICAgaWYgKHNob3VsZENsaXApIHtcbiAgICAgICAgcGxvdC5hdHRyKHsnY2xpcC1wYXRoJzogXCJ1cmwoI2F4ZXNDbGlwKVwifSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXZlbnRzLnJlc2l6ZSgpO1xuICAgIH07XG5cbiAgICBUID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgIHN2ZyA9IGVsLmFwcGVuZChcImdcIik7XG4gICAgICBkZWZzID0gc3ZnLmFwcGVuZCgnZGVmcycpO1xuICAgICAgYXhlcyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdpZCcsICdheGVzJyk7XG4gICAgICBwbG90ID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ2lkJywgJ3Bsb3QnKTtcbiAgICAgIHJlc2NhbGVWaWV3KCk7XG4gICAgICBkZWZzLmFwcGVuZCgnY2xpcFBhdGgnKS5hdHRyKHtcbiAgICAgICAgaWQ6ICdheGVzQ2xpcCdcbiAgICAgIH0pLmFwcGVuZCgndXNlJykuYXR0cih7XG4gICAgICAgICd4bGluazpocmVmJzogXCIjYm91bmRzXCJcbiAgICAgIH0pO1xuICAgICAgLy8gY29uc29sZS5sb2coXCJDYWxsaW5nIHBsb3QgZnVuY3Rpb25zXCIpO1xuXG4gICAgICBpZiAoY2FsbE9uQ3JlYXRlKSB7XG4gICAgICAgIGNhbGxPbkNyZWF0ZS5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgICAgcmV0dXJuIGYoVCk7XG4gICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbE9uQ3JlYXRlID0gW107XG4gICAgfTtcblxuICAgIFQub24gPSBmdW5jdGlvbihuLCBmKSB7XG4gICAgICByZXR1cm4gZXZlbnRzLm9uKG4sIGYpO1xuICAgIH07XG5cbiAgICBULmZpdCA9IGZ1bmN0aW9uKHcsIGgpIHtcbiAgICAgIHZhciBuaCwgbncsIHI7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBudyA9IGlubmVyV2lkdGgodyk7XG4gICAgICAgIG5oID0gaW5uZXJIZWlnaHQoaCk7XG4gICAgICAgIGlmIChuaCA8PSBjb3MzMCAqIG53KSB7XG4gICAgICAgICAgciA9IG5oICogMiAvIDM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgciA9IG53IC8gTWF0aC5zcXJ0KDMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gbncgLyBNYXRoLnNxcnQoMyk7XG4gICAgICB9XG4gICAgICBULnJhZGl1cyhyKTtcbiAgICAgIHJldHVybiBUO1xuICAgIH07XG5cbiAgICBULm5vZGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBzdmc7XG4gICAgfTtcblxuICAgIFQuYXhlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGF4ZXM7XG4gICAgfTtcblxuICAgIFQucGxvdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBsb3Q7XG4gICAgfTtcblxuICAgIFQuY2FsbCA9IGZ1bmN0aW9uKGYpIHtcbiAgICAgIGlmIChzdmcgIT0gbnVsbCkge1xuICAgICAgICBmKFQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbE9uQ3JlYXRlLnB1c2goZik7XG4gICAgICB9XG4gICAgICByZXR1cm4gVDtcbiAgICB9O1xuXG4gICAgVC5zY2FsZXMgPSBzY2FsZXM7XG4gICAgVC5tYXJnaW4gPSBmdW5jdGlvbihtKSB7XG4gICAgICBpZiAobSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBtYXJnaW47XG4gICAgICB9XG4gICAgICBpZiAobS5sZWZ0ICE9IG51bGwpIHtcbiAgICAgICAgbWFyZ2luID0gbTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcmdpbiA9IHtcbiAgICAgICAgICBsZWZ0OiBtLFxuICAgICAgICAgIHJpZ2h0OiBtLFxuICAgICAgICAgIHRvcDogbSxcbiAgICAgICAgICBib3R0b206IG1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJlc2NhbGVWaWV3KCk7XG4gICAgICByZXR1cm4gVDtcbiAgICB9O1xuXG4gICAgVC5wb2ludCA9IGZ1bmN0aW9uKGNvb3Jkcykge1xuICAgICAgdmFyIHN1bTtcbiAgICAgIHN1bSA9IGQzLnN1bShjb29yZHMpO1xuICAgICAgaWYgKHN1bSAhPT0gMCkge1xuICAgICAgICBjb29yZHMgPSBjb29yZHMubWFwKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICByZXR1cm4gZCAvIHN1bTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gVC5yYXdQb2ludChjb29yZHMpO1xuICAgIH07XG5cbiAgICBULnJhd1BvaW50ID0gZnVuY3Rpb24oZCkge1xuICAgICAgdmFyIEEsIEIsIEMsIGEsIGIsIGMsIHgsIHk7XG4gICAgICBpZiAoZDMuc3VtKGQpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbMCwgMF07XG4gICAgICB9XG4gICAgICBBID0gc2NhbGVzWzBdLCBCID0gc2NhbGVzWzFdLCBDID0gc2NhbGVzWzJdO1xuICAgICAgYSA9IGRbMF0sIGIgPSBkWzFdLCBjID0gZFsyXTtcbiAgICAgIHggPSBBKGEpIC8gMiArIEIoYik7XG4gICAgICB5ID0gQigoMSAtIGEpICogY29zMzApO1xuICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICB9O1xuXG4gICAgVC52YWx1ZSA9IGZ1bmN0aW9uKGFyZykge1xuICAgICAgdmFyIEEsIEIsIEMsIGEsIGIsIGMsIHgsIHk7XG4gICAgICB4ID0gYXJnWzBdLCB5ID0gYXJnWzFdO1xuICAgICAgQSA9IHNjYWxlc1swXSwgQiA9IHNjYWxlc1sxXSwgQyA9IHNjYWxlc1syXTtcbiAgICAgIGEgPSAxIC0gQi5pbnZlcnQoeSkgLyBjb3MzMDtcbiAgICAgIGIgPSBCLmludmVydCh4IC0gQShhKSAvIDIpO1xuICAgICAgYyA9IDEgLSBhIC0gYjtcbiAgICAgIHJldHVybiBbYSwgYiwgY107XG4gICAgfTtcblxuICAgIFQucGF0aCA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvb3Jkc0xpc3QsIGFjY2Vzc29yLCBpbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9ucztcbiAgICAgICAgbGluZShpbnRlcnBvbGF0b3IpO1xuICAgICAgICBpZiAoIWFjY2Vzc29yKSB7IGFjY2Vzc29yID0gZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfTsgfVxuXG4gICAgICAgIHBvc2l0aW9ucyA9IGNvb3Jkc0xpc3QubWFwKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFQucG9pbnQoYWNjZXNzb3IoZCkpOyB9KTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBwYXRoKHBvc2l0aW9ucyk7XG4gICAgICB9O1xuICAgIH0pKHRoaXMpO1xuXG4gICAgVC5hcmVhID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInQucGF0aCBfdGhpc1wiLCBfdGhpcyk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbihjb29yZHNMaXN0LCBhY2Nlc3NvciwgaW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZDMtVEVSTkFSWTogY29vcmRzTGlzdFwiLGNvb3Jkc0xpc3QpO1xuICAgICAgICB2YXIgcG9zaXRpb25zO1xuICAgICAgICBsaW5lKGludGVycG9sYXRvcik7XG4gICAgICAgIGlmICghYWNjZXNzb3IpIHsgYWNjZXNzb3IgPSBmdW5jdGlvbihkKSB7IHJldHVybiBkOyB9OyB9XG5cbiAgICAgICAgcG9zaXRpb25zID0gY29vcmRzTGlzdC5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gVC5wb2ludChhY2Nlc3NvcihkKSk7IH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJwb3NpdGlvbnNcIiwgcG9zaXRpb25zKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJwYXRoKHBvc2l0aW9uc1wiLCBwYXRoKHBvc2l0aW9ucykpO1xuXG4gICAgICAgIHJldHVybiBwYXRoKHBvc2l0aW9ucykgKyBcIlpcIjsgLy8gY2xvc2VzIHRoZSBwYXRoXG4gICAgICB9O1xuICAgIH0pKHRoaXMpOyAgICBcblxuICAgIFQucnVsZSA9IGZ1bmN0aW9uKGF4aXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgZW5kcztcbiAgICAgICAgZW5kcyA9IFtdO1xuXG4gICAgICAgIGlmIChheGlzID09PSAwKSB7XG4gICAgICAgICAgZW5kcyA9IFtbMCwgMSAtIHZhbHVlLCB2YWx1ZV0sIFsxIC0gdmFsdWUsIDAsIHZhbHVlXV07XG4gICAgICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gMSkge1xuICAgICAgICAgIGVuZHMgPSBbWzAsIHZhbHVlLCAxIC0gdmFsdWVdLCBbMSAtIHZhbHVlLCB2YWx1ZSwgMF1dO1xuICAgICAgICB9IGVsc2UgaWYgKGF4aXMgPT09IDIpIHtcbiAgICAgICAgICBlbmRzID0gW1t2YWx1ZSwgMCwgMSAtIHZhbHVlXSwgW3ZhbHVlLCAxIC0gdmFsdWUsIDBdXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZW5kc1wiLCBlbmRzKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJULnBhdGgoZW5kcylcIiwgVC5wYXRoKGVuZHMpKTtcblxuICAgICAgICByZXR1cm4gVC5wYXRoKGVuZHMpO1xuICAgICAgfTtcbiAgICB9O1xuXG4gICAgVC52ZXJ0aWNlcyA9IGZ1bmN0aW9uKHBhZCkge1xuICAgICAgdmFyIHJvdGF0ZTtcbiAgICAgIGlmIChwYWQgPT0gbnVsbCkge1xuICAgICAgICBwYWQgPSAwO1xuICAgICAgfVxuICAgICAgcm90YXRlID0gWzAsIC0xMjAsIDEyMF07XG4gICAgICByZXR1cm4gcm90YXRlLm1hcChmdW5jdGlvbihkKSB7XG4gICAgICAgIHZhciBhLCB4LCB5O1xuICAgICAgICBhID0gZCAqIE1hdGguUEkgLyAxODA7XG4gICAgICAgIHggPSB3aWR0aCAvIDIgKyBNYXRoLnNpbihhKSAqIChyYWRpdXMgKyBwYWQpO1xuICAgICAgICB5ID0gcmFkaXVzIC0gTWF0aC5jb3MoYSkgKiAocmFkaXVzICsgcGFkKTtcbiAgICAgICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBULnJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgIHJldHVybiBUO1xuICAgIH07XG5cbiAgICBULnJhZGl1cyA9IGZ1bmN0aW9uKHIpIHtcbiAgICAgIGlmIChyICE9IG51bGwpIHtcbiAgICAgICAgcmFkaXVzID0gcjtcbiAgICAgICAgaGVpZ2h0ID0gciAqIDMgLyAyO1xuICAgICAgICB3aWR0aCA9IHIgKiBNYXRoLnNxcnQoMyk7XG4gICAgICAgIG91dGVySGVpZ2h0ID0gaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b207XG4gICAgICAgIG91dGVyV2lkdGggPSB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0O1xuICAgICAgICByZXNjYWxlVmlldygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJhZGl1cztcbiAgICAgIH1cbiAgICAgIHJldHVybiBUO1xuICAgIH07XG5cbiAgICBULmNlbnRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFt3aWR0aCAvIDIsIHJhZGl1c107XG4gICAgfTtcblxuICAgIFQuaGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaGVpZ2h0O1xuICAgIH07XG5cbiAgICBULndpZHRoID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfTtcblxuICAgIFQuY2xpcCA9IGZ1bmN0aW9uKGMpIHtcbiAgICAgIGlmIChjID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHNob3VsZENsaXA7XG4gICAgICB9XG4gICAgICBzaG91bGRDbGlwID0gYztcbiAgICAgIHJldHVybiBUO1xuICAgIH07XG4gICAgcmV0dXJuIFQ7XG4gIH07XG5cbn0pLmNhbGwodGhpcyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZDMudGVybmFyeSIsImltcG9ydCBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCBIYW5kc29udGFibGUgZnJvbSBcIkhhbmRzb250YWJsZVwiO1xuaW1wb3J0IHN3YWwgZnJvbSAnc3dlZXRhbGVydCc7XG5pbXBvcnQgJy4vdGVybmFyeS52Myc7XG5cbmxldCBsYWJlbHNBZGRlZCA9IGZhbHNlO1xubGV0IGNvbHVtbnM7XG5jb25zdCByZXNlcnZlZCA9IFtcImNvbG91clwiLCBcImNvbG9yXCIsIFwic2hhcGVcIiwgXCJsaW5lc3R5bGVcIiwgXCJ0aXRsZVwiLCBcIm9wYWNpdHlcIl07XG5cbi8vIENoZWNrIGlmIGxpbmVzIGNvbHVtbiBuYW1lcyBtYXRjaCB3aXRoIHByZXZpb3VzIGNvbHVtbiBuYW1lc1xuZnVuY3Rpb24gY2hlY2tDb2x1bW5zKGNvbHVtbk5hbWVzKSB7XG4gIGlmICghY29sdW1ucykge1xuICAgIGNvbHVtbnMgPSBjb2x1bW5OYW1lcy5zbGljZSgwLDMpO1xuXG4gICAgLy8gQWRkIGxhYmVscyB0byB0ZXJuYXJ5IHBsb3RcbiAgICBpZiAoIWxhYmVsc0FkZGVkKSB7IGFkZFZlcnRleExhYmVscyh7Y29sdW1uczogY29sdW1uTmFtZXN9KTsgbGFiZWxzQWRkZWQgPSB0cnVlO31cbiAgfSBlbHNlIHtcbiAgICBpZiAoSlNPTi5zdHJpbmdpZnkoY29sdW1uTmFtZXMuc2xpY2UoMCwzKSkgIT09IEpTT04uc3RyaW5naWZ5KGNvbHVtbnMpKSB7XG4gICAgICBzd2FsKFwiWW91ciBjb2x1bW5zIGluIFBvaW50cywgTGluZXMgYW5kIGFyZWFzIGRvbid0IHNlZW0gdG8gbWF0Y2hcIiwgYFlvdXIgY29sdW1ucyB5b3UgZW50ZXJlZCBmaXJzdCBhcmUgXCIke2NvbHVtbnN9XCIgYW5kIGZvciB5b3VyIGNvbHVtbnMgbm93IGFyZSBcIiR7Y29sdW1uTmFtZXMuc2xpY2UoMCwzKX1cIi4gWW91ciBkYXRhIHdpbGwgc3RpbGwgYmUgcGxvdHRlZCwgYnV0IGl0IG1pZ2h0IG5vdCBhcHBlYXIgdGhlIHdheSB5b3UgaW50ZW5kZWQuYCwgXCJ3YXJuaW5nXCIpO1xuICAgIH1cbiAgfTtcbiAgLy8gQ2hlY2sgZm9yIHJlc2VydmVkIGtleXdvcmRzIGluIGNvbHVtbiBuYW1lc1xuICBjb2x1bW5OYW1lcy5zb21lKGtleSA9PiB7IGlmIChyZXNlcnZlZC5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgIHN3YWwoXCJSZXNlcnZlZCBjb2x1bW4gbmFtZVwiLCBgWW91IGNhbid0IHVzZSBhbnkgb2YgdGhlIGZvbGxvd2luZyBuYW1lcyBhcyB5b3VyIGNvbHVtbnMgbmFtZXM6ICR7cmVzZXJ2ZWQuam9pbihcIiwgXCIpfWAsIFwiZXJyb3JcIikgfTtcbiAgICAgICAgcmV0dXJuO1xuICB9KVxufVxuXG5jb25zdCBwYXJzZSA9IHtcblxuICBQb2ludHMgOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgbGV0IGxpbmVzID0gZGF0YTtcbiAgICBjb25zdCBjb2x1bW5zQXJyYXkgPSBsaW5lcy5zaGlmdCgpO1xuXG4gICAgY2hlY2tDb2x1bW5zKGNvbHVtbnNBcnJheSk7XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGVtcHR5L251bGwgZW50cmllc1xuICAgIGxpbmVzID0gbGluZXMubWFwKGFyciA9PiBhcnIuZmlsdGVyKGVudHJ5ID0+IGVudHJ5ICE9PSBudWxsKSk7XG4gICAgbGluZXMgPSBsaW5lcy5maWx0ZXIoYXJyID0+IGFyci5sZW5ndGggIT09IDApO1xuXG4gICAgLy8gQ29uc3RydWN0IGFycmF5IG9mIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgZm9yIGRyYXdpbmdcbiAgICAvLyBJdHMgdWdseSBidXQgaXQgd29ya3Mgwq9cXF8o44OEKV8vwq9cbiAgICBjb25zdCBvYmplY3RzQXJyYXkgPSBsaW5lcy5tYXAobGluZSA9PiB7XG4gICAgICAgIGNvbnN0IHBvaW50ID0gY29sdW1uc0FycmF5LnJlZHVjZShmdW5jdGlvbihyZXN1bHQsIGNvbHVtbiwgaSkge1xuICAgICAgICAgIHJlc3VsdFtjb2x1bW4udG9Mb3dlckNhc2UoKV0gPSBsaW5lW2ldO1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgcmV0dXJuIHBvaW50XG4gICAgICB9KTtcblxuICAgIHJldHVybiBvYmplY3RzQXJyYXlcbiAgfSxcblxuICBMaW5lc0FyZWFzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgbGV0IGxpbmVzID0gZGF0YTtcbiAgICBjb25zdCBjb2x1bW5zQXJyYXkgPSBsaW5lcy5zaGlmdCgpO1xuXG4gICAgY2hlY2tDb2x1bW5zKGNvbHVtbnNBcnJheSk7XG4gICAgbGluZXMgPSBsaW5lcy5tYXAoYXJyID0+IGFyci5maWx0ZXIoZW50cnkgPT4gZW50cnkgIT09IG51bGwpKTsgLy8gRmlsdGVyIG91dCBlbXB0eS9udWxsIGVudHJpZXNcbiAgICBjb25zdCBkcmF3TGluZXMgPSBbXTtcblxuICAgIGxldCBkcmF3TGluZSA9IFtdO1xuICAgIC8vIExvb3Agb3ZlciBsaW5lcyBhcnJheVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGlzIG5vdCBlbXB0eVxuICAgICAgaWYgKGxpbmVzW2ldLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAvLyBBZGQgdG8gZHJhd0xpbmVcbiAgICAgICAgZHJhd0xpbmUucHVzaChsaW5lc1tpXSk7XG4gICAgICB9IGVsc2UgaWYgKGxpbmVzW2ldLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpZiAoZHJhd0xpbmUubGVuZ3RoICE9PSAwKSB7IGRyYXdMaW5lcy5wdXNoKGRyYXdMaW5lKTsgfVxuICAgICAgICBkcmF3TGluZSA9IFtdXG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgb2JqZWN0c0FycmF5ID0gZHJhd0xpbmVzLm1hcChsaW5lID0+IHtcbiAgICAgIGNvbnN0IGxpbmVPYmplY3RzID0gbGluZS5tYXAoZnVuY3Rpb24ocCkge1xuICAgICAgICBjb25zdCBwb2ludCA9IGNvbHVtbnNBcnJheS5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LCBjb2x1bW4sIGkpIHtcbiAgICAgICAgICByZXN1bHRbY29sdW1uLnRvTG93ZXJDYXNlKCldID0gcFtpXTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LCB7fSk7XG4gICAgICAgIHJldHVybiBwb2ludFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbGluZU9iamVjdHNcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmplY3RzQXJyYXlcbiAgfSAgXG59O1xuXG5jb25zdCBEcmF3ID0ge1xuXG4gIGRlZmF1bHRzIDoge1xuICAgICAgcG9pbnRDb2xvciA6IFwiYmxhY2tcIixcbiAgICAgIHBvaW50U2hhcGUgOiBcImNpcmNsZVwiLFxuICAgICAgbGluZVN0eWxlIDogXCJub25lXCIsIC8vc29saWRcbiAgICAgIGxpbmVDb2xvciA6IFwiYmxhY2tcIixcbiAgICAgIGxpbmVTdHJva2V3aWR0aCA6IFwiNHB4XCIsXG4gICAgICBhcmVhQ29sb3IgOiBcImdvbGRcIixcbiAgICAgIGFyZWFPcGFjaXR5IDogMC4yXG4gIH0sXG5cbiAgc2V0TGlzdGVuZXJzIDogZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2VsZWN0W25hbWU9XCJkZWZhdWx0Q29sb3JQb2ludHNcIl1gKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkgeyBEcmF3LmRlZmF1bHRzLnBvaW50Q29sb3IgPSBldmVudC50YXJnZXQudmFsdWU7IH07XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2VsZWN0W25hbWU9XCJkZWZhdWx0U2hhcGVcIl1gKS5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkgeyBEcmF3LmRlZmF1bHRzLnBvaW50U2hhcGUgPSBldmVudC50YXJnZXQudmFsdWU7IH07XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzZWxlY3RbbmFtZT1cImRlZmF1bHRDb2xvckxpbmVzXCJdYCkub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsgRHJhdy5kZWZhdWx0cy5saW5lQ29sb3IgPSBldmVudC50YXJnZXQudmFsdWU7IH07XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihgc2VsZWN0W25hbWU9XCJkZWZhdWx0TGluZVN0eWxlXCJdYCkub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsgRHJhdy5kZWZhdWx0cy5saW5lU3R5bGUgPSBldmVudC50YXJnZXQudmFsdWU7IH07XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzZWxlY3RbbmFtZT1cImRlZmF1bHRDb2xvckFyZWFzXCJdYCkub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsgRHJhdy5kZWZhdWx0cy5hcmVhQ29sb3IgPSBldmVudC50YXJnZXQudmFsdWU7IH1cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBzZWxlY3RbbmFtZT1cImRlZmF1bHRBcmVhT3BhY2l0eVwiXWApLm9uY2hhbmdlID0gZnVuY3Rpb24oKSB7IERyYXcuZGVmYXVsdHMuYXJlYU9wYWNpdHkgPSBldmVudC50YXJnZXQudmFsdWU7IH1cbiAgfSxcbiAgICBcbiAgUG9pbnRzOiBmdW5jdGlvbihkKSB7XG4gICAgY29uc3QgdmFsdWVzID0gZC5zbGljZShbMCwgM10pO1xuICAgIGNvbnN0IHN5bWJvbCA9IGQzLnN2Zy5zeW1ib2woKTtcbiAgICBsZXQgbXlWYWx1ZXM7XG5cbiAgICBjb25zdCBwb2ludHMgPSB0ZXJuYXJ5LnBsb3QoKVxuICAgICAgLnNlbGVjdEFsbChcIi5wb2ludFwiKVxuICAgICAgLmRhdGEodmFsdWVzKTtcblxuICAgIHBvaW50cy5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInBvaW50XCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLGZ1bmN0aW9uKHBvaW50KSB7IHJldHVybiBwb2ludC5jb2xvciA/IChwb2ludC5jb2xvcikudHJpbSgpIDogKHBvaW50LmNvbG91ciA/IChwb2ludC5jb2xvdXIpLnRyaW0oKSA6IERyYXcuZGVmYXVsdHMucG9pbnRDb2xvcik7IH0pIC8vIGJvdGggY29sb3IgYW5kIGNvbG91ciBhcmUgdmFsaWRcbiAgICAgICAgLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgZnVuY3Rpb24ocG9pbnQpIHsgcmV0dXJuIHBvaW50Lm9wYWNpdHkgPyAgcG9pbnQub3BhY2l0eS50cmltKCkgOiAxOyB9KSBcbiAgICAgICAgLmF0dHIoXCJkXCIsIHN5bWJvbC50eXBlKGZ1bmN0aW9uKHBvaW50KSB7IHJldHVybiBwb2ludC5zaGFwZSA/IChwb2ludC5zaGFwZSkudHJpbSgpIDogRHJhdy5kZWZhdWx0cy5wb2ludFNoYXBlOyB9KSlcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24ocG9pbnQpIHtcbiAgICAgICAgICBjb25zdCBteUtleXMgPSBPYmplY3Qua2V5cyhwb2ludCk7XG4gICAgICAgICAgbXlWYWx1ZXMgPSBbcG9pbnRbbXlLZXlzWzBdXSwgcG9pbnRbbXlLZXlzWzJdXSwgcG9pbnRbbXlLZXlzWzFdXV07XG5cbiAgICAgICAgICBjb25zdCBwbG90Q29vcmRzID0gdGVybmFyeS5wb2ludChteVZhbHVlcyk7XG4gICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgcGxvdENvb3Jkc1swXSArIFwiLFwiICsgcGxvdENvb3Jkc1sxXSArIFwiKVwiO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgaGFuZGxlTW91c2VPdmVyKVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbihlKSB7IGQzLnNlbGVjdEFsbChcIi5oZWxwLWxpbmVcIikucmVtb3ZlKCkgfSlcbiAgICAgIC5hcHBlbmQoXCJ0aXRsZVwiKVxuICAgICAgICAudGV4dCggZnVuY3Rpb24ocG9pbnQpIHsgXG4gICAgICAgICAgY29uc3QgbXlLZXlzID0gT2JqZWN0LmtleXMocG9pbnQpO1xuICAgICAgICAgIGNvbnN0IHZhbHVlc1N0cmluZyA9IGAke2NhcGl0YWxpemUobXlLZXlzWzBdKX06ICR7cG9pbnRbbXlLZXlzWzBdXX0sICR7Y2FwaXRhbGl6ZShteUtleXNbMl0pfTogJHtwb2ludFtteUtleXNbMl1dfSwgJHtjYXBpdGFsaXplKG15S2V5c1sxXSl9OiAke3BvaW50W215S2V5c1sxXV19YDtcbiAgICAgICAgICByZXR1cm4gcG9pbnQudGl0bGUgPyBgJHtjYXBpdGFsaXplKHBvaW50LnRpdGxlLnRyaW0oKSl9OyAke3ZhbHVlc1N0cmluZ31gIDogdmFsdWVzU3RyaW5nO1xuICAgICAgICB9KTtcbiAgfSxcblxuICBMaW5lcyA6IGZ1bmN0aW9uKGQpIHtcbiAgICBjb25zdCBwYXRocyA9IHRlcm5hcnkucGxvdCgpXG4gICAgICAuc2VsZWN0QWxsKFwiLmxpbmVcIilcbiAgICAgIC5kYXRhKGQpO1xuXG4gICAgLy8g8J+klEkgdGhpbmsgdGhlcmUgbXVzdCBiZSBhIHdheSB0byBkbyB0aGlzICdiZXR0ZXInIHdpdGggT2JqZWN0IG1ldGhvZHNcbiAgICBwYXRocy5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInRlcm5hcnktbGluZVwiIClcbiAgICAgICAgLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICAvLyBVc2UgZDMucGFpcnM/XG4gICAgICAgICAgbGV0IGRyYXdBcnJheSA9IFtdO1xuICAgICAgICAgIGNvbnN0IG15S2V5cyA9IE9iamVjdC5rZXlzKGxpbmVbMF0pO1xuICAgICAgICAgIC8vIExvb3Agb3ZlciBlYWNoIHBvaW50IGluIGxpbmUgYW5kIGFkZCB0byBkcmF3YXJyYXkgYmVjYXVzZSBkMyBwYXRoIHdhbnRzIGl0IHRoYXQgd2F5XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gKGxpbmUubGVuZ3RoIC0gMSk7IGkrPTEpIHtcbiAgICAgICAgICAgIC8vIGQzLnRlcm5hcnkgd2FudHMgdGhlIHZhbHVlcyBzd2FwcGVkIMKvXFxfKOODhClfL8KvXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gWytsaW5lW2ldW215S2V5c1swXV0sICtsaW5lW2ldW215S2V5c1syXV0sICtsaW5lW2ldW215S2V5c1sxXV1dOyAvLyBCZXR0ZXIgZmluZCB0aGUgaW5kZXggb2YgdGhlIGNvbHVtbnMgdGhhdCBhcmVuXCJ0IGtleXdvcmRzXG4gICAgICAgICAgICBkcmF3QXJyYXkucHVzaChjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRlcm5hcnkucGF0aChkcmF3QXJyYXkpO1xuICAgICAgICB9KVxuICAgICAgICAuYXR0cihcInN0cm9rZS1kYXNoYXJyYXlcIiwgZnVuY3Rpb24obGluZSkgeyByZXR1cm4gbGluZVswXS5saW5lc3R5bGUgPyAgbGluZVswXS5saW5lc3R5bGUudHJpbSgpIDogRHJhdy5kZWZhdWx0cy5saW5lU3R5bGUgfSlcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgZnVuY3Rpb24obGluZSkgeyByZXR1cm4gbGluZVswXS5jb2xvciA/IChsaW5lWzBdLmNvbG9yKS50cmltKCkgOiAobGluZVswXS5jb2xvdXIgPyAobGluZVswXS5jb2xvdXIpLnRyaW0oKSA6IERyYXcuZGVmYXVsdHMubGluZUNvbG9yKTsgfSkgLy8gYm90aCBjb2xvciBhbmQgY29sb3VyIGFyZSB2YWxpZCAgIFxuICAgICAgICAuYXR0cihcInN0cm9rZS1vcGFjaXR5XCIsIGZ1bmN0aW9uKGxpbmUpIHsgcmV0dXJuIGxpbmVbMF0ub3BhY2l0eSA/ICBsaW5lWzBdLm9wYWNpdHkudHJpbSgpIDogMTsgfSlcbiAgICAgICAgLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgXCIwXCIpIC8vIFNvIG5vIGluc2lkZSBmaWxsIHNob3dzIHVwIGluc2lkZSBsaW5lcyBpbiBBZG9iZSBJbGx1c3RyYXRvciBcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgZnVuY3Rpb24obGluZSkgeyByZXR1cm4gbGluZVswXS5zdHJva2V3aWR0aCA/IGxpbmVbMF0uc3Ryb2tld2lkdGggOiBEcmF3LmRlZmF1bHRzLmxpbmVTdHJva2V3aWR0aDsgfSlcbiAgICAgICAgLmFwcGVuZChcInRpdGxlXCIpIC8vIPCfpJQgV291bGQgdGhlcmUgYmUgYSB3YXkgdG8gbm90IGFwcGVuZCBhIHRpdGxlIGlmIHRoZXJlIGlzIG5vbmU/XG4gICAgICAgICAgLnRleHQoIGZ1bmN0aW9uKGxpbmUpIHsgcmV0dXJuIGxpbmVbMF0udGl0bGUgPyBjYXBpdGFsaXplKChsaW5lWzBdLnRpdGxlKS50cmltKCkpIDogdW5kZWZpbmVkOyB9KTsgLy9PYmplY3QudmFsdWVzKGUpLnNsaWNlKDAsMykuam9pbihcIiwgXCIpXG4gIH0sXG5cbiAgLy8gVGFrZXMgaW4gZGF0YSBlbnRlcmVkIGluIHRoZSBBcmVhcyBUYWJsZSBhbmQgZHJhd3MgdGhlbSBvbnRvIHRoZSBUZXJuYXJ5IFBsb3RcbiAgQXJlYXMgOiBmdW5jdGlvbihkKSB7XG4gICAgY29uc3QgcGF0aHMgPSB0ZXJuYXJ5LnBsb3QoKVxuICAgICAgLnNlbGVjdEFsbChcIi5hcmVhXCIpXG4gICAgICAuZGF0YShkKTtcblxuICAgIHBhdGhzLmVudGVyKCkuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwidGVybmFyeS1hcmVhXCIgKVxuICAgICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgIGxldCBkcmF3QXJyYXkgPSBbXTtcbiAgICAgICAgICBjb25zdCBteUtleXMgPSBPYmplY3Qua2V5cyhsaW5lWzBdKTtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSAobGluZS5sZW5ndGggLSAxKTsgaSs9MSkge1xuICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IFsrbGluZVtpXVtteUtleXNbMF1dLCArbGluZVtpXVtteUtleXNbMl1dLCArbGluZVtpXVtteUtleXNbMV1dXTtcbiAgICAgICAgICAgIGRyYXdBcnJheS5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGVybmFyeS5hcmVhKGRyYXdBcnJheSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiei1pbmRleFwiLCAtMSlcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGFyZWEpIHsgcmV0dXJuIGFyZWFbMF0uY29sb3IgPyAoYXJlYVswXS5jb2xvcikudHJpbSgpIDogRHJhdy5kZWZhdWx0cy5hcmVhQ29sb3I7IH0pXG4gICAgICAgIC5hdHRyKFwiZmlsbC1vcGFjaXR5XCIsIGZ1bmN0aW9uKGFyZWEpIHsgcmV0dXJuIGFyZWFbMF0ub3BhY2l0eSA/ICBhcmVhWzBdLm9wYWNpdHkgOiAwLjU7IH0pXG4gICAgICAgIC5hcHBlbmQoXCJ0aXRsZVwiKVxuICAgICAgICAgIC50ZXh0KCBmdW5jdGlvbihhcmVhKSB7IHJldHVybiBhcmVhWzBdLnRpdGxlID8gY2FwaXRhbGl6ZSgoYXJlYVswXS50aXRsZSkudHJpbSgpKSA6IHVuZGVmaW5lZDsgfSk7XG4gIH0sXG5cbn07XG5cbmZ1bmN0aW9uIEhhbmRzT25UYWJsZUNyZWF0b3IoSUQsIHNhbXBsZURhdGEsIHBsYWNlaG9sZGVyKSB7XG4gIHJldHVybiBuZXcgSGFuZHNvbnRhYmxlKElELCB7XG4gICAgZGF0YTogc2FtcGxlRGF0YSxcbiAgICBjb2xIZWFkZXJzOiBwbGFjZWhvbGRlcixcbiAgICBmaXhlZFJvd3NUb3A6IDEsXG4gICAgbWFudWFsQ29sdW1uTW92ZTogdHJ1ZSxcbiAgICBtYW51YWxSb3dNb3ZlOiB0cnVlLCAgXG4gICAgcm93SGVhZGVyczogdHJ1ZSxcbiAgICBtaW5Sb3dzOiAxMDAsXG4gICAgaGVpZ2h0OiAzMDAsXG4gICAgd2lkdGg6IDUwMCxcbiAgICBkcm9wZG93bk1lbnU6IHRydWUsXG4gICAgbWFudWFsQ29sdW1uUmVzaXplOiB0cnVlXG4gIH0pOyAgXG59XG5cblxuY29uc3QgcG9pbnRzU2FtcGxlZGF0YSA9IFtcbiAgW1wiU2FuZFwiLCBcIlNpbHRcIiwgXCJDbGF5XCIsIFwiQ29sb3JcIiwgXCJTaGFwZVwiLCBcIlRpdGxlXCJdLFxuICBbMC4zLCAwLjMsIDAuNCwgXCJsaW1lZ3JlZW5cIiwgLCBcIlNhbXBsZSBOciAxXCJdLFxuICBbMSwwLDBdLFxuICBbMCwxLDBdLFxuICBbMCwwLDFdLFxuICBbMC4yLDAuNSwwLjMsXCJjb3JhbFwiXSxcbiAgWzAuMywgMC4xLCAwLjYsXCJtYWdlbnRhXCIsXCJjcm9zc1wiXSxcbiAgWzAuNSwwLjUsMCxcIiNkMWI2MjFcIixcImRpYW1vbmRcIl0sXG4gIFswLjYsMC4yLDAuMixcInBlcnVcIixcInRyaWFuZ2xlLXVwXCJdXG5dO1xuXG5jb25zdCBwb2ludHNQbGFjZWhvbGRlciA9IFtcIlZhcmlhYmxlIDFcIiwgXCJWYXJpYWJsZSAyXCIsIFwiVmFyaWFibGUgM1wiLCBcIkNvbG9yXCIsIFwiU2hhcGVcIiwgXCJUaXRsZVwiXTtcblxuY29uc3QgcG9pbnRzVGFibGUgPSBIYW5kc09uVGFibGVDcmVhdG9yKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9pbnRzVGFibGVcIiksIHBvaW50c1NhbXBsZWRhdGEsIHBvaW50c1BsYWNlaG9sZGVyKTtcbmNvbnN0IHN1Ym1pdFBvaW50c0J1dHRvbiA9IGRvY3VtZW50LmVudGVyUG9pbnRzO1xuXG4vLyBOb3Qgc3VyZSBhYm91dCB0aGlzIHBhcnQgeWV0XG4vLyBwb2ludHNUYWJsZS51cGRhdGVTZXR0aW5ncyh7XG4vLyAgIGNlbGxzOiBmdW5jdGlvbiAocm93LCBjb2wpIHtcbi8vICAgICB2YXIgY2VsbFByb3BlcnRpZXMgPSB7fTtcblxuLy8gICAgIGlmIChyZXNlcnZlZC5pbmNsdWRlcyhwb2ludHNUYWJsZS5nZXREYXRhKClbcm93XVtjb2xdKSkge1xuLy8gICAgICAgY2VsbFByb3BlcnRpZXMucmVhZE9ubHkgPSB0cnVlO1xuLy8gICAgIH1cblxuLy8gICAgIHJldHVybiBjZWxsUHJvcGVydGllcztcbi8vICAgfVxuLy8gfSk7XG5cbkhhbmRzb250YWJsZS5kb20uYWRkRXZlbnQoc3VibWl0UG9pbnRzQnV0dG9uLCBcInN1Ym1pdFwiLCBmdW5jdGlvbihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBwYXJzZWRQb2ludHMgPSBwYXJzZS5Qb2ludHMocG9pbnRzVGFibGUuZ2V0RGF0YSgpKTtcbiAgRHJhdy5Qb2ludHMocGFyc2VkUG9pbnRzKTtcbn0pO1xuXG5jb25zdCBsaW5lc1NhbXBsZWRhdGEgPSBbXG4gIFtcIlNhbmRcIiwgXCJTaWx0XCIsIFwiQ2xheVwiLCBcIkNvbG9yXCIsIFwiTGluZXN0eWxlXCIsIFwiU3Ryb2tld2lkdGhcIiwgXCJUaXRsZVwiXSxcbiAgWzAuMiwwLjgsMCxcIm9yYW5nZXJlZFwiLFwiNSAzIDVcIiwyLFwiZG90dGVkIGxpbmUgMVwiXSxcbiAgWzAuOCwwLDAuMixdLFxuICBbXSxcbiAgWzAuMSwwLjEsMC44LFwic2xhdGVibHVlXCJdLFxuICBbMC40LDAuMSwwLjVdLFxuICBbMCwwLDFdXG5dO1xuXG5jb25zdCBsaW5lc1BsYWNlaG9sZGVyID0gW1wiVmFyaWFibGUgMVwiLCBcIlZhcmlhYmxlIDJcIiwgXCJWYXJpYWJsZSAzXCIsIFwiQ29sb3JcIiwgXCJMaW5lc3R5bGVcIiwgXCJTdHJva2V3aWR0aFwiLCBcIlRpdGxlXCJdO1xuXG5jb25zdCBsaW5lc1RhYmxlID0gSGFuZHNPblRhYmxlQ3JlYXRvcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxpbmVzVGFibGVcIiksIGxpbmVzU2FtcGxlZGF0YSwgbGluZXNQbGFjZWhvbGRlcik7XG5jb25zdCBzdWJtaXRMaW5lc0J1dHRvbiA9IGRvY3VtZW50LmVudGVyTGluZXM7XG5IYW5kc29udGFibGUuZG9tLmFkZEV2ZW50KHN1Ym1pdExpbmVzQnV0dG9uLCBcInN1Ym1pdFwiLCBmdW5jdGlvbihlKSB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBwYXJzZWRMaW5lcyA9IHBhcnNlLkxpbmVzQXJlYXMobGluZXNUYWJsZS5nZXREYXRhKCkpO1xuXG4gIERyYXcuTGluZXMocGFyc2VkTGluZXMpO1xufSk7XG5cbmNvbnN0IGFyZWFzU2FtcGxlZGF0YSA9IFtcbiAgW1wiU2FuZFwiLFwiU2lsdFwiLFwiQ2xheVwiLFwiQ29sb3JcIixcIk9wYWNpdHlcIixcIlRpdGxlXCJdLFxuICBbMCwwLjUsMC41LFwicGFsZWdyZWVuXCIsMC4xLFwiTW9yZSB0aGFuIDUwJSBzaWx0XCJdLFxuICBbMC41LDAuNSwwXSxcbiAgWzAsMSwwXSxcbiAgW10sXG4gIFswLjUsMCwwLjUsXCJtb2NjYXNpblwiLDAuNCxcIk1vcmUgdGhhbiA1MCUgc2FuZFwiXSxcbiAgWzAuNSwwLjUsMF0sXG4gIFsxLDAsMF0sXG4gIFtdLFxuICBbMCwwLjUsMC41LFwiY29yYWxcIiwwLjMsXCJNb3JlIHRoYW4gNTAlIGNsYXlcIl0sXG4gIFswLjUsMCwwLjVdLFxuICBbMCwwLDFdXG5dO1xuY29uc3QgYXJlYXNQbGFjZWhvbGRlciA9IFtcIlZhcmlhYmxlIDFcIiwgXCJWYXJpYWJsZSAyXCIsIFwiVmFyaWFibGUgM1wiLCBcIkNvbG9yXCIsIFwiT3BhY2l0eVwiLCBcIlRpdGxlXCJdO1xuXG52YXIgYXJlYXNUYWJsZSA9IEhhbmRzT25UYWJsZUNyZWF0b3IoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcmVhc1RhYmxlXCIpLCBhcmVhc1NhbXBsZWRhdGEsIGFyZWFzUGxhY2Vob2xkZXIpO1xuY29uc3Qgc3VibWl0QXJlYXNCdXR0b24gPSBkb2N1bWVudC5lbnRlckFyZWFzO1xuSGFuZHNvbnRhYmxlLmRvbS5hZGRFdmVudChzdWJtaXRBcmVhc0J1dHRvbiwgXCJzdWJtaXRcIiwgZnVuY3Rpb24oZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgcGFyc2VkQXJlYXMgPSBwYXJzZS5MaW5lc0FyZWFzKGFyZWFzVGFibGUuZ2V0RGF0YSgpKTtcbiAgRHJhdy5BcmVhcyhwYXJzZWRBcmVhcyk7XG59KTtcblxuZnVuY3Rpb24gY2FwaXRhbGl6ZSh3b3JkKSB7XG4gIHJldHVybiB3b3JkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxiW2Etel0vZywgZnVuY3Rpb24obGV0dGVyKSB7XG4gICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn1cblxuY29uc3QgZ3JhdGljdWxlID0gZDMudGVybmFyeS5ncmF0aWN1bGUoKVxuICAubWFqb3JJbnRlcnZhbCgwLjIpXG4gIC5taW5vckludGVydmFsKDAuMDUpO1xuXG5jb25zdCB0ZXJuYXJ5ID0gZDMudGVybmFyeS5wbG90KClcbiAgLmNhbGwocmVzaXplLCBbNTAwLCA1MDBdKVxuICAuY2FsbChkMy50ZXJuYXJ5LnNjYWxlYmFycygpKVxuICAuY2FsbChkMy50ZXJuYXJ5Lm5lYXRsaW5lKCkpXG4gIC5jYWxsKGdyYXRpY3VsZSk7XG5cbmQzLnNlbGVjdChcIiN0ZXJuYXJ5LXBsb3RcIikuY2FsbCh0ZXJuYXJ5KTtcblxuZnVuY3Rpb24gaGFuZGxlTW91c2VPdmVyKGUpIHsgXG4gIGxldCBwb2ludFZhbHVlcyA9IE9iamVjdC52YWx1ZXMoZSk7XG4gIHBvaW50VmFsdWVzID0gW3BvaW50VmFsdWVzWzBdLCBwb2ludFZhbHVlc1syXSwgcG9pbnRWYWx1ZXNbMV1dO1xuXG4gIC8vIEl0cyB1Z2x5IGJ1dCBpdCB3b3JrcyBpcyBteSBtb3R0byBmb3IgcHJvZ3JhbW1pbmdcbiAgY29uc3QgaGVscExpbmVzQXJyYXkgPSBbXG4gICAgW3BvaW50VmFsdWVzLCBcbiAgICAgIFtcbiAgICAgICAgMCxcbiAgICAgICAgcGFyc2VGbG9hdChwb2ludFZhbHVlc1swXSkgKyBwYXJzZUZsb2F0KHBvaW50VmFsdWVzWzFdKSxcbiAgICAgICAgcGFyc2VGbG9hdChwb2ludFZhbHVlc1syXSkgXVxuICAgICAgXSwgIFxuICAgIFtwb2ludFZhbHVlcyxcbiAgICAgIFtcbiAgICAgICAgcGFyc2VGbG9hdChwb2ludFZhbHVlc1swXSksXG4gICAgICAgIDAsXG4gICAgICAgIHBhcnNlRmxvYXQocG9pbnRWYWx1ZXNbMV0pICsgcGFyc2VGbG9hdChwb2ludFZhbHVlc1syXSlcbiAgICAgIF1cbiAgICBdLFxuICAgIFtwb2ludFZhbHVlcywgXG4gICAgICBbXG4gICAgICAgIHBhcnNlRmxvYXQocG9pbnRWYWx1ZXNbMF0pICsgcGFyc2VGbG9hdChwb2ludFZhbHVlc1syXSksICAgICAgXG4gICAgICAgIHBhcnNlRmxvYXQocG9pbnRWYWx1ZXNbMV0pLFxuICAgICAgICAwICAgICAgICBcbiAgICAgIF1cbiAgICBdXG4gIF1cblxuICBjb25zdCBoZWxwTGluZXMgPSB0ZXJuYXJ5LnBsb3QoKVxuICAgIC5zZWxlY3RBbGwoXCIubGluZVwiKVxuICAgIC5kYXRhKGhlbHBMaW5lc0FycmF5KTtcblxuICAvLyBJIGNvdWxkIChzaG91bGQ/KSB1c2UgdGhlIGRyYXdMaW5lcyBmdW5jdGlvbiBidXQgdGhhdCBvbmUgaXMgZ2VhcmVkIHRvd2FyZHMgdGhlIHN1Ym1taXR0ZWRMaW5lcyBmb3JtYXQgYW5kIHRoaXMgaXMgZWFzaWVy8J+kl1xuICBoZWxwTGluZXMuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAuYXR0cihcImNsYXNzXCIsIFwiaGVscC1saW5lXCIpXG4gICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24obGluZSkgeyByZXR1cm4gdGVybmFyeS5wYXRoKGxpbmUpIH0pXG4gICAgICAuYXR0cihcInN0cm9rZS1kYXNoYXJyYXlcIiwgXCIzLCAzLCAzXCIpXG4gICAgICAuYXR0cihcInN0cm9rZVwiLCBcImJsYWNrXCIpICBcbiAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIFwiMXB4XCIpXG4gICAgICAuYXR0cihcInotaW5kZXhcIiwgXCItMVwiKTtcbn1cblxuZnVuY3Rpb24gYWRkVmVydGV4TGFiZWxzKGYpIHtcbiAgY29uc3QgY29scyA9IChmLmNvbHVtbnMpLnNsaWNlKDAsIDMpO1xuICB0ZXJuYXJ5LmNhbGwoZDMudGVybmFyeS52ZXJ0ZXhMYWJlbHMoY29scykpXG59XG5cbmZ1bmN0aW9uIGNsZWFyTGFiZWxzKCkge1xuICBkMy5zZWxlY3RBbGwoXCIudmVydGV4LWxhYmVsXCIpLnJlbW92ZSgpO1xuICBsYWJlbHNBZGRlZCA9IGZhbHNlO1xuICBjb2x1bW5zID0gdW5kZWZpbmVkOyAgXG59XG5cbmZ1bmN0aW9uIGNsZWFyUG9pbnRzKGUpIHtcbiAgZDMuc2VsZWN0QWxsKFwiLnBvaW50XCIpLnJlbW92ZSgpO1xufVxuXG5mdW5jdGlvbiBjbGVhckxpbmVzKGUpIHtcbiAgZDMuc2VsZWN0QWxsKFwiLnRlcm5hcnktbGluZVwiKS5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gY2xlYXJBcmVhcyhlKSB7XG4gIGQzLnNlbGVjdEFsbChcIi50ZXJuYXJ5LWFyZWFcIikucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGNsZWFyQWxsKGUpIHtcbiAgY2xlYXJMaW5lcygpO1xuICBjbGVhclBvaW50cygpO1xuICBjbGVhckxhYmVscygpO1xuICBjbGVhckFyZWFzKCk7XG59XG5cbmZ1bmN0aW9uIHJlc2l6ZSh0KSB7XG4gIGlmICggd2luZG93LmlubmVyV2lkdGggPiA2MDApIHsgdC5maXQoNTAwLCA1MDApOyB9XG4gIGVsc2UgeyB0LmZpdCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTsgfVxufTtcblxuY29uc3QgdGltZU91dFRpbWUgPSA2MDA7XG5cbmNvbnN0IGNsZWFyUG9pbnRzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGVhclBvaW50c1wiKTtcbmNsZWFyUG9pbnRzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGVhclBvaW50cyApO1xuY2xlYXJQb2ludHNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihldmVudCkge1xuICBkMy5zZWxlY3RBbGwoXCIucG9pbnRcIilcbiAgICAuYXR0cihcIm9wYWNpdHlcIiwgXCIwLjRcIik7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBkMy5zZWxlY3RBbGwoXCIucG9pbnRcIilcbiAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCBcIjFcIik7XG4gIH0sIHRpbWVPdXRUaW1lKTsgIFxufSk7XG5cbmNvbnN0IGNsZWFyTGluZXNCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsZWFyTGluZXNcIik7XG5jbGVhckxpbmVzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGVhckxpbmVzICk7XG5jbGVhckxpbmVzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgZDMuc2VsZWN0QWxsKFwiLnRlcm5hcnktbGluZVwiKVxuICAgIC5hdHRyKFwic3Ryb2tlLW9wYWNpdHlcIiwgXCIwLjNcIik7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBkMy5zZWxlY3RBbGwoXCIudGVybmFyeS1saW5lXCIpXG4gICAgICAuYXR0cihcInN0cm9rZS1vcGFjaXR5XCIsIFwiMVwiKTtcbiAgfSwgdGltZU91dFRpbWUpOyAgXG59KTtcblxuY29uc3QgY2xlYXJBcmVhc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJBcmVhc1wiKTtcbmNsZWFyQXJlYXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsZWFyQXJlYXMgKTsgLy8ucmVtb3ZlKCkgKTtcbmNsZWFyQXJlYXNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihldmVudCkge1xuICBkMy5zZWxlY3RBbGwoXCIudGVybmFyeS1hcmVhXCIpXG4gICAgLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgXCIwLjFcIik7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBkMy5zZWxlY3RBbGwoXCIudGVybmFyeS1hcmVhXCIpXG4gICAgICAuYXR0cihcImZpbGwtb3BhY2l0eVwiLCBcIjFcIik7XG4gIH0sIHRpbWVPdXRUaW1lKTsgIFxufSk7XG5cbmNvbnN0IGNsZWFyTGFiZWxzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGVhckxhYmVsc1wiKTtcbmNsZWFyTGFiZWxzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGVhckxhYmVscyApO1xuLy8gU2hvdyBsaW5ldGhyb3VnaCB2ZXJ0ZXggbGFiZWxzIGZvciBzaG9ydCB3aGlsZSB3aGVuIGhvdmVyaW5nIG92ZXIgY2xlYXIgTGFiZWxzIGJ1dHRvblxuY2xlYXJMYWJlbHNCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihldmVudCkge1xuICBkMy5zZWxlY3RBbGwoXCIudmVydGV4LWxhYmVsXCIpXG4gICAgLmF0dHIoXCJ0ZXh0LWRlY29yYXRpb25cIiwgXCJsaW5lLXRocm91Z2hcIik7XG5cbiAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBkMy5zZWxlY3RBbGwoXCIudmVydGV4LWxhYmVsXCIpXG4gICAgICAuYXR0cihcInRleHQtZGVjb3JhdGlvblwiLCBcIm5vbmVcIik7XG4gIH0sIHRpbWVPdXRUaW1lKTtcbn0pXG5cbmNvbnN0IGNsZWFyQWxsQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGVhckFsbFwiKTtcbmNsZWFyQWxsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGVhckFsbCApO1xuY2xlYXJBbGxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbihldmVudCkge1xuICBkMy5zZWxlY3RBbGwoXCIudGVybmFyeS1saW5lLC52ZXJ0ZXgtbGFiZWwsLnRlcm5hcnktYXJlYSwucG9pbnRcIilcbiAgICAuYXR0cihcImZpbGwtb3BhY2l0eVwiLCBcIjAuM1wiKVxuICAgIC5hdHRyKFwidGV4dC1kZWNvcmF0aW9uXCIsIFwibGluZS10aHJvdWdoXCIpXG4gICAgLmF0dHIoXCJzdHJva2Utb3BhY2l0eVwiLCBcIjAuM1wiKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIGQzLnNlbGVjdEFsbChcIi50ZXJuYXJ5LWxpbmUsLnZlcnRleC1sYWJlbCwudGVybmFyeS1hcmVhLC5wb2ludFwiKVxuICAgICAgICAuYXR0cihcImZpbGwtb3BhY2l0eVwiLCBcIjFcIilcbiAgICAgICAgLmF0dHIoXCJ0ZXh0LWRlY29yYXRpb25cIiwgXCJub25lXCIpXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLW9wYWNpdHlcIiwgXCIxXCIpO1xuICB9LCB0aW1lT3V0VGltZSk7XG59KVxuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCByZXNpemUodGVybmFyeSkpIl0sInNvdXJjZVJvb3QiOiIifQ==