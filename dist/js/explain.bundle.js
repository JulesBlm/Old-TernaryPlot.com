!function(t){function n(n){for(var e,l,o=n[0],i=n[1],c=n[2],f=0,p=[];f<o.length;f++)l=o[f],a[l]&&p.push(a[l][0]),a[l]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);for(s&&s(n);p.length;)p.shift()();return u.push.apply(u,c||[]),r()}function r(){for(var t,n=0;n<u.length;n++){for(var r=u[n],e=!0,o=1;o<r.length;o++){var i=r[o];0!==a[i]&&(e=!1)}e&&(u.splice(n--,1),t=l(l.s=r[0]))}return t}var e={},a={2:0},u=[];function l(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=t,l.c=e,l.d=function(t,n,r){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)l.d(r,e,function(n){return t[n]}.bind(null,e));return r},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=n,o=o.slice();for(var c=0;c<o.length;c++)n(o[c]);var s=i;u.push([13,0,4]),r()}({13:function(t,n,r){"use strict";r.r(n);r(0),r(14),r(3);Reveal.initialize({controls:!0,progress:!0,history:!1,center:!1,touch:!0,transition:"fade",reveald3:{runLastState:!0,keepIframe:!1,mapPath:!1,tryFallbackURL:!1},dependencies:[{src:"js/reveald3.js"}]})},3:function(t,n){(function(){var t,n,r,e,a,u;a=void 0,d3.ternary={},r=Math.sqrt(3)/2,tickValues=[.2,.4,.6,.8,1],u=function(){var t,n,r,e;for(e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=0;t<=3;++t)n=Math.floor(Math.random()*r.length),e+=r.charAt(n);return e},e=function(t){return t||(t="linear"),a=d3.svg.line().x(function(t){return t[0]}).y(function(t){return t[1]}).interpolate(t)},n=[0,120,240],d3.ternary.graticule=function(){var t,n,r,e,a;return n=.1,e=null,r=function(){var t,r,e;for(e=[],r=t=n;r<1;)e.push(r),r+=t;return e},a=function(){var t,r;if(r=[],null==e)return r;for(t=e;t<1;)t%n!=0&&r.push(t),t+=e;return r},(t=function(t){var n,e;return e=[0,1,2].map(function(){return d3.svg.axis().tickValues(r())}),n=function(n,e){var l,o,i,c;return l=d3.select(this),(i=l.selectAll("path.minor").data(a())).enter().append("path").attr("class",`minor axis-${e}`),(c=l.selectAll("path.major").data(r())).enter().append("path").attr("class",`major axis-${e}`),o=function(){return n.scale(t.scales[e]),i.attr("d",t.rule(e)),c.attr("d",t.rule(e))},t.on("resize."+u(),o),o()},t.axes().selectAll(".graticule").data(e).enter().append("g").attr("class","graticule").attr("clip-path","url(#axesClip)").each(n)}).axes=function(){return gratAxes},t.majorInterval=function(r){return r?(n=r,t):n},t.minorInterval=function(n){return n?(e=n,t):e},t},d3.ternary.scalebars=function(t){var r,e,a,l,o,i;return null==t&&(t={}),o=null,l=t.labels||null,e=[0,1,2].map(function(t){return d3.svg.axis().tickSize(10).tickFormat(d3.format("%")).tickValues(tickValues).orient("top")}),r=function(t,n){return 0===n?d3.select(this).selectAll("text").attr("transform",function(t){const n=d3.select(this).attr("y");return"translate(22 "+-n+") rotate(60 0 "+4.5*n+")"})&&d3.select(this).selectAll("line").attr("transform",function(t){const n=d3.select(this).attr("y");return"translate(0 "+-n+") rotate(-30 0 "+1*n+")"}):d3.select(this).selectAll("text").attr("transform",function(t){const n=d3.select(this).attr("y");return"translate(-27 "+-n+") rotate(-120 0 "+2.5*n+")"})&&d3.select(this).selectAll("line").attr("transform",function(t){const n=d3.select(this).attr("y");return"translate(0 "+-n+") rotate(-30 0 "+1*n+")"})},a=function(t,n){var r,e,a;return r=-30,e="translate("+(a=o.width())/2+")",2===n&&(r=42,e=" rotate(-180 0 0) translate("+-a/2+")"),d3.select(this).attr("class","label").attr("transform",e).attr("y",r).attr("text-anchor","middle").text(t)},(i=function(t){var i,c;return(i=(o=t).axes().selectAll(".bary-axis").data(n).enter().append("g").attr("class",function(t,n){return t="bary-axis",2===n&&(t+=" bottom"),t})).each(function(){return d3.select(this).append("text").attr("class","label")}),c=function(){var t,n,u;if(e.forEach(function(t,n){var r;return r=o.scales[n].copy(),t.scale(r)}),u=o.radius(),n=o.center(),i.each(function(t,n){var r;return r=d3.select(this),e[n](r)}).attr("transform",function(t,r){return"rotate("+(120*r-60)+" "+n[0]+" "+n[1]+") translate(0 "+u/2+")"}).each(r),t)return o.axes().selectAll(".bary-axis .label").data(l).each(a)},o.on("resize."+u(),c),c()}).labels=function(t){return null==t?l:(l=t,i)},i.axes=e,i},d3.ternary.vertexLabels=function(t){var n=null,r=[0,60,-60];return function(e){var a,l,o;return o=e.vertices(20),a=t.map(function(t,n){return{label:t,vertex:o[n]}}),(n=e.axes().selectAll(".vertex-label").data(a)).enter().append("text").text(function(t){return t.label}).attr("dy",".35em").attr("text-anchor","middle").attr("class",function(t){return"vertex-label "+t.label.toLowerCase()}),l=function(){return n.attr({transform:function(t,n){var e;return"translate("+(e=t.vertex)[0]+","+e[1]+")rotate("+r[n]+")"}})},e.on("resize."+u(),l),l(),n}},d3.ternary.neatline=function(){return function(t){return t.node().append("use").attr("class","neatline").attr("xlink:href","#bounds")}},t=function(t){var n,r,e,a,l,o,i,c,s;for(e=t.scales.map(function(t){return t.domain()}),c=[],o=i=0;i<=2;o=++i)-1===(s=o-1)&&(s=2),(r=e.map(function(t){return t[0]}))[s]=e[s][1],c.push(r),(r=e.map(function(t){return t[0]}))[o]=e[o][1],c.push(r);return n=d3.select(this),null==(l=n.select("#bounds")).node()&&(l=n.append("polygon")),l.datum(c).attr({id:"bounds"}),a=function(){return l.attr({points:function(n){return n.map(function(n){return(o=t.rawPoint(n)).join(",")}).join(" ")}})},t.on("resize."+u(),a),a()},d3.ternary.plot=function(){var n,u,l,o,i,c,s,f,p,d,h,v,m,b,x,g,y,w;return h=500,d=500,p={top:50,bottom:50,left:50,right:50},m=null,c=null,w=null,y=null,u=null,v=null,o=null,g=!1,l=[],x=[0,1,2].map(function(){return d3.scale.linear().domain([0,1]).range([0,1])}),i=d3.dispatch("resize"),f=function(t){return t-p.left-p.right},s=function(t){return t-p.top-p.bottom},b=function(){var r,e;if(null==w&&(w=f(h)),null==c&&(c=s(d)),null==m&&(m=w/Math.sqrt(3)),[w/2,m],null!=y){for(y.attr({transform:"translate("+p.left+","+p.top+")",width:w,height:c}),d3.select(y.node().parentElement).attr({width:h,height:d}),r=0,e=x.length;r<e;r++)x[r].range([0,w]);return t.call(o.node(),n),g&&v.attr({"clip-path":"url(#axesClip)"}),i.resize()}},(n=function(t){return y=t.append("g"),o=y.append("defs"),u=y.append("g").attr("id","axes"),v=y.append("g").attr("id","plot"),b(),o.append("clipPath").attr({id:"axesClip"}).append("use").attr({"xlink:href":"#bounds"}),l&&l.forEach(function(t){return t(n)}),l=[]}).on=function(t,n){return i.on(t,n)},n.fit=function(t,e){var a,u,l;return 2===arguments.length?(u=f(t),l=(a=s(e))<=r*u?2*a/3:u/Math.sqrt(3)):l=u/Math.sqrt(3),n.radius(l),n},n.node=function(){return y},n.axes=function(){return u},n.plot=function(){return v},n.call=function(t){return null!=y?t(n):l.push(t),n},n.scales=x,n.margin=function(t){return null==t?p:(p=null!=t.left?t:{left:t,right:t,top:t,bottom:t},b(),n)},n.point=function(t){var r;return 0!==(r=d3.sum(t))&&(t=t.map(function(t){return t/r})),n.rawPoint(t)},n.rawPoint=function(t){var n,e,a,u;return 0===d3.sum(t)?[0,0]:(n=x[0],e=x[1],x[2],a=t[0],u=t[1],t[2],[n(a)/2+e(u),e((1-a)*r)])},n.value=function(t){var n,e,a,u,l,o;return l=t[0],o=t[1],n=x[0],e=x[1],x[2],[a=1-e.invert(o)/r,u=e.invert(l-n(a)/2),1-a-u]},n.path=function(t,r,u){var l;return e(u),r||(r=function(t){return t}),l=t.map(function(t){return n.point(r(t))}),a(l)},n.area=function(t,r,u){var l;return e(u),r||(r=function(t){return t}),l=t.map(function(t){return n.point(r(t))}),a(l)+"Z"},n.rule=function(t){return function(r){var e;return e=[],0===t?e=[[0,1-r,r],[1-r,0,r]]:1===t?e=[[0,r,1-r],[1-r,r,0]]:2===t&&(e=[[r,0,1-r],[r,1-r,0]]),n.path(e)}},n.vertices=function(t){return null==t&&(t=0),[0,-120,120].map(function(n){var r;return r=n*Math.PI/180,[w/2+Math.sin(r)*(m+t),m-Math.cos(r)*(m+t)]})},n.range=function(t){return n},n.radius=function(t){return null==t?m:(m=t,c=3*t/2,w=t*Math.sqrt(3),d=c+p.top+p.bottom,h=w+p.left+p.right,b(),n)},n.center=function(){return[w/2,m]},n.height=function(){return c},n.width=function(){return w},n.clip=function(t){return null==t?g:(g=t,n)},n}}).call(this),t.exports=d3.ternary}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2V4cGxhaW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzL3Rlcm5hcnkudjMuanMiXSwibmFtZXMiOlsid2VicGFja0pzb25wQ2FsbGJhY2siLCJkYXRhIiwibW9kdWxlSWQiLCJjaHVua0lkIiwiY2h1bmtJZHMiLCJtb3JlTW9kdWxlcyIsImV4ZWN1dGVNb2R1bGVzIiwiaSIsInJlc29sdmVzIiwibGVuZ3RoIiwiaW5zdGFsbGVkQ2h1bmtzIiwicHVzaCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm1vZHVsZXMiLCJwYXJlbnRKc29ucEZ1bmN0aW9uIiwic2hpZnQiLCJkZWZlcnJlZE1vZHVsZXMiLCJhcHBseSIsImNoZWNrRGVmZXJyZWRNb2R1bGVzIiwicmVzdWx0IiwiZGVmZXJyZWRNb2R1bGUiLCJmdWxmaWxsZWQiLCJqIiwiZGVwSWQiLCJzcGxpY2UiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwicyIsImluc3RhbGxlZE1vZHVsZXMiLCIyIiwiZXhwb3J0cyIsIm1vZHVsZSIsImwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicCIsImpzb25wQXJyYXkiLCJ3aW5kb3ciLCJvbGRKc29ucEZ1bmN0aW9uIiwic2xpY2UiLCJSZXZlYWwiLCJpbml0aWFsaXplIiwiY29udHJvbHMiLCJwcm9ncmVzcyIsImhpc3RvcnkiLCJjZW50ZXIiLCJ0b3VjaCIsInRyYW5zaXRpb24iLCJyZXZlYWxkMyIsInJ1bkxhc3RTdGF0ZSIsImtlZXBJZnJhbWUiLCJtYXBQYXRoIiwidHJ5RmFsbGJhY2tVUkwiLCJkZXBlbmRlbmNpZXMiLCJzcmMiLCJfcGxvdEJvdW5kcyIsImFuZ2xlcyIsImNvczMwIiwibGluZSIsInBhdGgiLCJyYW5kb21pZCIsImQzIiwidGVybmFyeSIsIk1hdGgiLCJzcXJ0IiwidGlja1ZhbHVlcyIsInBvcyIsInBvc3NpYmxlIiwidGV4dCIsImZsb29yIiwicmFuZG9tIiwiY2hhckF0IiwiaW50ZXJwb2xhdG9yIiwic3ZnIiwieCIsInkiLCJpbnRlcnBvbGF0ZSIsImdyYXRpY3VsZSIsIm1ham9ySW50ZXJ2YWwiLCJtYWpvclRpY2tzIiwibWlub3JJbnRlcnZhbCIsIm1pbm9yVGlja3MiLCJpbnQiLCJzdGFydCIsInRpY2tzIiwicGxvdCIsImF4aXNHcmF0aWN1bGUiLCJncmF0QXhlcyIsIm1hcCIsImF4aXMiLCJjb250YWluZXIiLCJkcmF3Iiwic2VsQSIsInNlbEIiLCJzZWxlY3QiLCJ0aGlzIiwic2VsZWN0QWxsIiwiZW50ZXIiLCJhcHBlbmQiLCJhdHRyIiwic2NhbGUiLCJzY2FsZXMiLCJydWxlIiwib24iLCJheGVzIiwiZWFjaCIsInNjYWxlYmFycyIsIm9wdHMiLCJhZGp1c3RUZXh0IiwiZm9ybWF0TGFiZWwiLCJsYWJlbHMiLCJzY2FsZWJhciIsInRpY2tTaXplIiwidGlja0Zvcm1hdCIsImZvcm1hdCIsIm9yaWVudCIsImR5Iiwid2lkdGgiLCJiX2F4ZXMiLCJsYWJlbFNlbCIsIm9mZnMiLCJmb3JFYWNoIiwiY29weSIsInJhZGl1cyIsImVsIiwidmVydGV4TGFiZWxzIiwic2VsIiwicm90YXRlIiwidmVydHMiLCJ2ZXJ0aWNlcyIsImxhYmVsIiwidmVydGV4IiwidG9Mb3dlckNhc2UiLCJ0cmFuc2Zvcm0iLCJyZWYiLCJuZWF0bGluZSIsIm5vZGUiLCJfIiwiYSIsImRvbWFpbnMiLCJwb2ludHMiLCJ2IiwiZG9tYWluIiwiZGF0dW0iLCJpZCIsInJhd1BvaW50Iiwiam9pbiIsIlQiLCJjYWxsT25DcmVhdGUiLCJkZWZzIiwiZXZlbnRzIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJpbm5lcldpZHRoIiwibWFyZ2luIiwib3V0ZXJIZWlnaHQiLCJvdXRlcldpZHRoIiwicmVzY2FsZVZpZXciLCJzaG91bGRDbGlwIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwibGluZWFyIiwicmFuZ2UiLCJkaXNwYXRjaCIsInciLCJoIiwibGVuIiwicGFyZW50RWxlbWVudCIsImNsaXAtcGF0aCIsInJlc2l6ZSIsInhsaW5rOmhyZWYiLCJmIiwiZml0IiwibmgiLCJudyIsImFyZ3VtZW50cyIsInBvaW50IiwiY29vcmRzIiwic3VtIiwiQSIsIkIiLCJiIiwiYXJnIiwiaW52ZXJ0IiwiY29vcmRzTGlzdCIsImFjY2Vzc29yIiwicG9zaXRpb25zIiwiYXJlYSIsImVuZHMiLCJwYWQiLCJQSSIsInNpbiIsImNvcyIsImNsaXAiXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBUUEsSUFQQSxJQU1BQyxFQUFBQyxFQU5BQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUlBTSxFQUFBLEVBQUFDLEtBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFLQSxJQUZBZSxLQUFBaEIsR0FFQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixPQUdBZSxJQUVBLFNBQUFBLElBRUEsSUFEQSxJQUFBQyxFQUNBZixFQUFBLEVBQWlCQSxFQUFBWSxFQUFBVixPQUE0QkYsSUFBQSxDQUc3QyxJQUZBLElBQUFnQixFQUFBSixFQUFBWixHQUNBaUIsR0FBQSxFQUNBQyxFQUFBLEVBQWtC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QUFBaEcsRUFBQTBDLEtBQUFDLEtBQUEsR0FDQTJGLEVBQUFKLEVBQUFHLEVBQUFLLElBQUFMLEVBQUFNLE9BQ0FKLEVBQUF2QyxFQUFBcUMsRUFBQU8sS0FBQVAsRUFBQVEsTUFDQUwsSUFJQVYsSUFHQUEsRUFBQXRHLE9BQUEsV0FDQSxPQUFBd0UsRUFBQSxFQUFBTSxJQUdBd0IsRUFBQUksT0FBQSxXQUNBLE9BQUFBLEdBR0FKLEVBQUE5QixNQUFBLFdBQ0EsT0FBQUEsR0FHQThCLEVBQUFnRCxLQUFBLFNBQUF0TCxHQUNBLGFBQUFBLEVBQ0FpSixHQUVBQSxFQUFBakosRUFDQXNJLElBRUFBLEtBR0MzSixLQUFBdUcsTUFFRHJGLEVBQUFELFFBQUFvRCxHQUFBQyIsImZpbGUiOiJleHBsYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDI6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzEzLDAsNF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCJpbXBvcnQgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgcmV2ZWFsIGZyb20gXCJyZXZlYWwuanNcIjtcbmltcG9ydCAnLi90ZXJuYXJ5LnYzJztcblxuUmV2ZWFsLmluaXRpYWxpemUoe1xuICAgIGNvbnRyb2xzOiB0cnVlLFxuICAgIHByb2dyZXNzOiB0cnVlLFxuICAgIGhpc3Rvcnk6IGZhbHNlLFxuICAgIGNlbnRlcjogZmFsc2UsXG4gICAgdG91Y2g6IHRydWUsXG4gICAgdHJhbnNpdGlvbjogJ2ZhZGUnLFxuICAgIC8vIG9wdGlvbmFsIGNvbmZpZ3VyYXRpb25zIGZvciByZXZlYWxkM1xuICAgIHJldmVhbGQzOiB7XG4gICAgICAgICAvLyBJZiB0aGUgcHJldmlvdXMgc2xpZGUgaXMgYSBzbGlkZSBmdXJ0aGVyIGluIHRoZSBkZWNrIChpLmUuIHdlIGNvbWUgYmFjayB0b1xuICAgICAgICAgLy8gc2xpZGUgZnJvbSB0aGUgbmV4dCBzbGlkZSksIGJ5IGRlZmF1bHQgdGhlIGxhc3QgZnJhZ21lbnQgdHJhbnNpdGlvbiB3aWxsIGJlXG4gICAgICAgICAvLyB0cmlnZ2VyZWQgdG8gdG8gZ2V0IHRoZSBsYXN0IHN0YXRlIG9mIHRoZSB2aXN1YWxpemF0aW9uIGFuZCBzaW11bGF0ZSB0aGVcbiAgICAgICAgIC8vIHRoZSBzdGF0ZSB0aGUgc2ltdWxhdGlvbiB3YXMgaW4gd2hlbiB3ZSBsZWZ0IHRoZSBzbGlkZS4gVGhpcyBjYW4gYmVcbiAgICAgICAgIC8vIGRpc2NhcmRlZC5cbiAgICAgICAgIHJ1bkxhc3RTdGF0ZTogdHJ1ZSwgLy9kZWZhdWx0IHRydWVcbiAgICAgICAgIC8vIFNwZWNpZmllcyBpZiBpZnJhbWVzICh0aGF0IGhvc3QgdGhlIHZpc3VhbGl6YXRpb24pIGhhdmUgdG8gYmUga2VwdFxuICAgICAgICAgLy8gb24gdGhlIHNsaWRlIG9uY2UgdGhlIHNsaWRlIGlzIG5vdCBhY3RpdmUgYW55bW9yZSAoZS5nLjogbmF2aWdhdGluZ1xuICAgICAgICAgLy8gdG8gbmV4dCBzbGlkZSkuIElmIHRydWUsIHRoZSBjdXJyZW50IHZpc3VhbGl6YXRpb24gd2lsbCBiZSBrZXB0XG4gICAgICAgICAvLyBhY3RpdmUgc28gdGhhdCBpdHMgc3RhdGUgd2lsbCBiZSB0aGUgb25lIGRpc3BsYXllZCBpZiB3ZSBuYXZpZ2F0ZVxuICAgICAgICAgLy8gYmFjayB0byB0aGUgc2xpZGUuIFRoaXMgaXMgZmFsc2UgYnkgZGVmYXVsdCwgYXMgaXQgY2FuIGJlIHRoZSBzb3VyY2VcbiAgICAgICAgIC8vIG9mIHBlcmZvcm1hbmNlIGlzc3VlcyBpZiBjb21wbGV4IHZpc3VhbGl6YXRpb25zIChlLmcuIGZvcmNlIGxheW91dClcbiAgICAgICAgIC8vIGFyZSBkaXNwbGF5ZWQgYW5kIGtlcHQgaW4gdGhlIGJhY2tncm91bmQuXG4gICAgICAgICAvLyBBbHNvLCBzZWUgdGhlIHJ1bkxhc3RTdGF0ZSBvcHRpb24gYXMgYSBzaW1wbGVyIGxlc3NcbiAgICAgICAgIC8vIHJlc291cmNlLWRlbWFuZGluZyBhbHRlcm5hdGl2ZS5cbiAgICAgICAgIGtlZXBJZnJhbWU6IGZhbHNlLCAvLyBkZWZhdWx0OiBmYWxzZVxuICAgICAgICAgLy8gVGhpcyB3aWxsIHByZWZpeCB0aGUgcGF0aCBhdHRyaWJ1dGVzIG9mIHRoZSBzb3VyY2UgaHRtbCBwYXRocyB3aXRoIHRoZSBnaXZlbiBwYXRoLlxuICAgICAgICAgLy8gKGJ5IGRlZmF1bHQgXCJzcmNcIiBpZiBzZXQgdG8gdHJ1ZSBvciB3aXRoIHRoZSBzcGVjaWZpZWQgcGF0aCBpZiBzdHJpbmcpXG4gICAgICAgICBtYXBQYXRoOiBmYWxzZSwgLy8gZGVmYXVsdDogZmFsc2VcbiAgICAgICAgIC8vIElmIHRydWUsIHdpbGwgdHJ5IHRvIGxvY2F0ZSB0aGUgZmlsZSBhdCBhIGZhbGxiYWNrIHVybCB3aXRob3V0IHRoZSBtYXBQYXRoIHByZWZpeCBpbiBjYXNlIG5vIGZpbGUgaXMgZm91bmRcbiAgICAgICAgIC8vIGF0IHRoZSBzdGlwdWxhdGVkIHVybCB3aXRoIG1hcFBhdGhcbiAgICAgICAgIHRyeUZhbGxiYWNrVVJMOiBmYWxzZSwgLy9kZWZhdWx0IGZhbHNlXG4gICAgfSxcbiAgICAvLyBSZXZlYWwuanMgcGx1Z2luc1xuICAgIGRlcGVuZGVuY2llczogWyB7IHNyYzogJ2pzL3JldmVhbGQzLmpzJyB9XVxufSk7XG4iLCIvKlxuICBkMy10ZXJuYXJ5OiBNSVQgTGljZW5zZVxuICBDb3B5cmlnaHQgKGMpIDIwMTggRGF2ZW4gUXVpbm5cblxuICBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiovXG5cbi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBfcGxvdEJvdW5kcywgYW5nbGVzLCBjb3MzMCwgbGluZSwgcGF0aCwgcmFuZG9taWQ7XG5cbiAgcGF0aCA9IHZvaWQgMDtcblxuICBkMy50ZXJuYXJ5ID0ge307XG5cbiAgY29zMzAgPSBNYXRoLnNxcnQoMykgLyAyO1xuXG4gIHRpY2tWYWx1ZXMgPSBbLjIsIC40LCAuNiwgLjgsIDFdXG5cbiAgcmFuZG9taWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaSwgaiwgcG9zLCBwb3NzaWJsZSwgdGV4dDtcbiAgICB0ZXh0ID0gXCJcIjtcbiAgICBwb3NzaWJsZSA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuICAgIGZvciAoaSA9IGogPSAwOyBqIDw9IDM7IGkgPSArK2opIHtcbiAgICAgIHBvcyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCk7XG4gICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChwb3MpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcblxuICBsaW5lID0gZnVuY3Rpb24oaW50ZXJwb2xhdG9yKSB7XG4gICAgaWYgKCFpbnRlcnBvbGF0b3IpIHtcbiAgICAgIGludGVycG9sYXRvciA9ICdsaW5lYXInO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aCA9IGQzLnN2Zy5saW5lKClcbiAgICAgIC54KGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGRbMF07IH0pXG4gICAgICAueShmdW5jdGlvbihkKSB7IHJldHVybiBkWzFdOyB9KVxuICAgICAgLmludGVycG9sYXRlKGludGVycG9sYXRvcik7XG4gIH07XG5cbiAgYW5nbGVzID0gWzAsIDEyMCwgMjQwXTtcblxuICAvKiAtLS0tLSBHcmF0aWN1bGVzIC0tLS0tICovXG4gIGQzLnRlcm5hcnkuZ3JhdGljdWxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGdyYXRpY3VsZSwgbWFqb3JJbnRlcnZhbCwgbWFqb3JUaWNrcywgbWlub3JJbnRlcnZhbCwgbWlub3JUaWNrcztcbiAgICBcbiAgICBtYWpvckludGVydmFsID0gMC4xOyAvL1N0ZXBzaXplIGZvciBsaW5lc1xuICAgIG1pbm9ySW50ZXJ2YWwgPSBudWxsO1xuXG4gICAgbWFqb3JUaWNrcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGludCwgc3RhcnQsIHRpY2tzO1xuICAgICAgdGlja3MgPSBbXTtcbiAgICAgIGludCA9IG1ham9ySW50ZXJ2YWw7XG4gICAgICBzdGFydCA9IGludDtcbiAgICAgIHdoaWxlIChzdGFydCA8IDEpIHtcbiAgICAgICAgdGlja3MucHVzaChzdGFydCk7XG4gICAgICAgIHN0YXJ0ICs9IGludDtcbiAgICAgIH1cblxuICAgICAgLy8gY29uc29sZS5sb2coXCJ0aWNrc1wiLCB0aWNrcyk7XG5cbiAgICAgIHJldHVybiB0aWNrcztcbiAgICB9O1xuXG4gICAgbWlub3JUaWNrcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0YXJ0LCB0aWNrcztcbiAgICAgIHRpY2tzID0gW107XG4gICAgICBpZiAobWlub3JJbnRlcnZhbCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0aWNrcztcbiAgICAgIH1cbiAgICAgIHN0YXJ0ID0gbWlub3JJbnRlcnZhbDtcbiAgICAgIHdoaWxlIChzdGFydCA8IDEpIHtcbiAgICAgICAgaWYgKHN0YXJ0ICUgbWFqb3JJbnRlcnZhbCAhPT0gMCkge1xuICAgICAgICAgIHRpY2tzLnB1c2goc3RhcnQpO1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0ICs9IG1pbm9ySW50ZXJ2YWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGlja3M7XG4gICAgfTtcblxuICAgIGdyYXRpY3VsZSA9IGZ1bmN0aW9uKHBsb3QpIHtcbiAgICAgIHZhciBheGlzR3JhdGljdWxlLCBncmF0QXhlcztcbiAgICAgIGdyYXRBeGVzID0gWzAsIDEsIDJdLm1hcChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGQzLnN2Zy5heGlzKClcbiAgICAgICAgICAgICAgLnRpY2tWYWx1ZXMobWFqb3JUaWNrcygpKTtcbiAgICAgIH0pO1xuICAgICAgYXhpc0dyYXRpY3VsZSA9IGZ1bmN0aW9uKGF4aXMsIGkpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciwgZHJhdywgc2VsQSwgc2VsQjtcbiAgICAgICAgY29udGFpbmVyID0gZDMuc2VsZWN0KHRoaXMpO1xuICAgICAgICBcbiAgICAgICAgc2VsQSA9IGNvbnRhaW5lci5zZWxlY3RBbGwoXCJwYXRoLm1pbm9yXCIpLmRhdGEobWlub3JUaWNrcygpKTtcbiAgICAgICAgc2VsQS5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIGBtaW5vciBheGlzLSR7aX1gICApO1xuXG4gICAgICAgIHNlbEIgPSBjb250YWluZXIuc2VsZWN0QWxsKFwicGF0aC5tYWpvclwiKS5kYXRhKG1ham9yVGlja3MoKSk7XG4gICAgICAgIHNlbEIuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBgbWFqb3IgYXhpcy0ke2l9YCAgKTtcblxuICAgICAgICBkcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXCJwbG90LnJ1bGUoaSlcIiwgcGxvdC5ydWxlKGkpKTtcbiAgICAgICAgICBheGlzLnNjYWxlKHBsb3Quc2NhbGVzW2ldKTtcbiAgICAgICAgICBzZWxBLmF0dHIoXCJkXCIsIHBsb3QucnVsZShpKSlcblxuICAgICAgICAgIHJldHVybiBzZWxCLmF0dHIoXCJkXCIsIHBsb3QucnVsZShpKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcGxvdC5vbihcInJlc2l6ZS5cIiArIChyYW5kb21pZCgpKSwgZHJhdyk7XG4gICAgICAgIHJldHVybiBkcmF3KCk7XG4gICAgICB9O1xuICAgICAgXG4gICAgICByZXR1cm4gcGxvdC5heGVzKClcbiAgICAgICAgICAgICAgLnNlbGVjdEFsbChcIi5ncmF0aWN1bGVcIilcbiAgICAgICAgICAgICAgLmRhdGEoZ3JhdEF4ZXMpXG4gICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZ3JhdGljdWxlXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGlwLXBhdGhcIiwgXCJ1cmwoI2F4ZXNDbGlwKVwiKVxuICAgICAgICAgICAgICAgIC5lYWNoKGF4aXNHcmF0aWN1bGUpO1xuICAgIH07XG5cbiAgICBncmF0aWN1bGUuYXhlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdyYXRBeGVzO1xuICAgIH07XG5cbiAgICBncmF0aWN1bGUubWFqb3JJbnRlcnZhbCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIGlmICghZCkge1xuICAgICAgICByZXR1cm4gbWFqb3JJbnRlcnZhbDtcbiAgICAgIH1cbiAgICAgIG1ham9ySW50ZXJ2YWwgPSBkO1xuICAgICAgcmV0dXJuIGdyYXRpY3VsZTtcbiAgICB9O1xuXG4gICAgZ3JhdGljdWxlLm1pbm9ySW50ZXJ2YWwgPSBmdW5jdGlvbihkKSB7XG4gICAgICBpZiAoIWQpIHtcbiAgICAgICAgcmV0dXJuIG1pbm9ySW50ZXJ2YWw7XG4gICAgICB9XG4gICAgICBtaW5vckludGVydmFsID0gZDtcbiAgICAgIHJldHVybiBncmF0aWN1bGU7XG4gICAgfTtcbiAgICByZXR1cm4gZ3JhdGljdWxlO1xuICB9O1xuXG4gIC8qIC0tLS0tIFNjYWxlYmFycyAtLS0tLSAqL1xuICBkMy50ZXJuYXJ5LnNjYWxlYmFycyA9IGZ1bmN0aW9uKG9wdHMpIHtcbiAgICB2YXIgYWRqdXN0VGV4dCwgYXhlcywgZm9ybWF0TGFiZWwsIGxhYmVscywgcGxvdCwgc2NhbGViYXI7XG4gICAgXG4gICAgaWYgKG9wdHMgPT0gbnVsbCkge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBzY2FsZWJhclwiKTtcbiAgICBwbG90ID0gbnVsbDtcbiAgICBsYWJlbHMgPSBvcHRzLmxhYmVscyB8fCBudWxsO1xuXG4gICAgYXhlcyA9IFswLCAxLCAyXS5tYXAoZnVuY3Rpb24oaSkge1xuICAgICAgcmV0dXJuIGQzLnN2Zy5heGlzKClcbiAgICAgICAgICAgICAgLnRpY2tTaXplKDEwKVxuICAgICAgICAgICAgICAudGlja0Zvcm1hdChkMy5mb3JtYXQoXCIlXCIpKVxuICAgICAgICAgICAgICAudGlja1ZhbHVlcyh0aWNrVmFsdWVzKVxuICAgICAgICAgICAgICAub3JpZW50KFwidG9wXCIpO1xuICAgIH0pO1xuXG4gICAgYWRqdXN0VGV4dCA9IGZ1bmN0aW9uKGQsIGkpIHtcblxuICAgICAgLy8gU2V0IGxlZnQgYXhpcyB0aWNrbGFiZWxzIHN0cmFpZ2h0XG4gICAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZDMuc2VsZWN0KHRoaXMpLnNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICBjb25zdCB5ID0gZDMuc2VsZWN0KHRoaXMpLmF0dHIoXCJ5XCIpO1xuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKDIyIFwiICsgKC15KSArIFwiKSByb3RhdGUoNjAgMCBcIiArICg0LjUgKiB5KSArIFwiKVwiOyAvLy0xODBcbiAgICAgICAgICB9KSAmJiBkMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKFwibGluZVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBkMy5zZWxlY3QodGhpcykuYXR0cihcInlcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCBcIiArICgteSkgKyBcIikgcm90YXRlKC0zMCAwIFwiICsgKDEgKiB5KSArIFwiKVwiOyAvLy0xODBcbiAgICAgICAgICB9KTs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgY29uc3QgeSA9IGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwieVwiKTtcbiAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoLTI3IFwiICsgKC15KSArIFwiKSByb3RhdGUoLTEyMCAwIFwiICsgKDIuNSAqIHkpICsgXCIpXCI7IC8vLTE4MFxuICAgICAgICB9KSAmJiBkMy5zZWxlY3QodGhpcykuc2VsZWN0QWxsKFwibGluZVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgIGNvbnN0IHkgPSBkMy5zZWxlY3QodGhpcykuYXR0cihcInlcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCBcIiArICgteSkgKyBcIikgcm90YXRlKC0zMCAwIFwiICsgKDEgKiB5KSArIFwiKVwiOyAvLy0xODBcbiAgICAgICAgICB9KTs7XG4gICAgfTtcblxuICAgIGZvcm1hdExhYmVsID0gZnVuY3Rpb24oZCwgaSkge1xuICAgICAgdmFyIGR5LCB0LCB3aWR0aDtcbiAgICAgIHdpZHRoID0gcGxvdC53aWR0aCgpO1xuICAgICAgZHkgPSAtMzA7XG4gICAgICB0ID0gXCJ0cmFuc2xhdGUoXCIgKyAod2lkdGggLyAyKSArIFwiKVwiO1xuICAgICAgaWYgKGkgPT09IDIpIHtcbiAgICAgICAgZHkgPSA0MjtcbiAgICAgICAgdCA9IFwiIHJvdGF0ZSgtMTgwIDAgMCkgdHJhbnNsYXRlKFwiICsgKC13aWR0aCAvIDIpICsgXCIpXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZDMuc2VsZWN0KHRoaXMpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCB0KVxuICAgICAgICAuYXR0cihcInlcIiwgZHkpXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLnRleHQoZCk7XG4gICAgfTtcblxuICAgIC8vIGNvbnNvbGUuaW5mbyhcImZvcm1hdExhYmVsXCIsIGZvcm1hdExhYmVsKTtcblxuICAgIHNjYWxlYmFyID0gZnVuY3Rpb24ocCkge1xuICAgICAgdmFyIGJfYXhlcywgZHJhdztcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQWRkaW5nIHNjYWxlYmFyIHRvIHBsb3RcIik7XG4gICAgICBwbG90ID0gcDtcbiAgICAgIGJfYXhlcyA9IHBsb3QuYXhlcygpLnNlbGVjdEFsbChcIi5iYXJ5LWF4aXNcIikuZGF0YShhbmdsZXMpLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICBkID0gXCJiYXJ5LWF4aXNcIjtcbiAgICAgICAgICBpZiAoaSA9PT0gMikge1xuICAgICAgICAgICAgZCArPSAnIGJvdHRvbSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICB9KTtcblxuICAgICAgYl9heGVzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkMy5zZWxlY3QodGhpcykuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKTtcbiAgICAgIH0pO1xuXG4gICAgICBkcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsYWJlbFNlbCwgb2ZmcywgcjtcblxuICAgICAgICBheGVzLmZvckVhY2goZnVuY3Rpb24oYXhpcywgaSkge1xuICAgICAgICAgIHZhciBkLCBzO1xuICAgICAgICAgIHMgPSBwbG90LnNjYWxlc1tpXS5jb3B5KCk7XG4gICAgICAgICAgLyogVG8gcmV2ZXJzZSBib3R0b20gYXhpcyAoPylcbiAgICAgICAgICBpZiAoaSA9PT0gMikge1xuICAgICAgICAgICAgZCA9IHMuZG9tYWluKCk7XG4gICAgICAgICAgICBzLmRvbWFpbihkKS5yZXZlcnNlKClcbiAgICAgICAgICB9XG4gICAgICAgICAgKi9cbiAgICAgICAgICByZXR1cm4gYXhpcy5zY2FsZShzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgciA9IHBsb3QucmFkaXVzKCk7XG4gICAgICAgIG9mZnMgPSBwbG90LmNlbnRlcigpO1xuXG4gICAgICAgIGJfYXhlcy5lYWNoKGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICB2YXIgZWw7XG4gICAgICAgICAgZWwgPSBkMy5zZWxlY3QodGhpcyk7XG4gICAgICAgICAgcmV0dXJuIGF4ZXNbaV0oZWwpO1xuICAgICAgICB9KS5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBvZmZzWzBdO1xuICAgICAgICAgICAgY29uc3QgeSA9IG9mZnNbMV07XG5cbiAgICAgICAgICAgIHJldHVybiBcInJvdGF0ZShcIiArICgtNjAgKyBpICogMTIwKSArIFwiIFwiICsgeCArIFwiIFwiICsgeSArIFwiKSB0cmFuc2xhdGUoMCBcIiArIChyIC8gMikgKyBcIilcIjsgLy9cInJvdGF0ZShcIiArICgtNjAgKyBpICogMTIwKSArIFwiIFwiICsgeCArIFwiIFwiICsgeSArIFwiKSB0cmFuc2xhdGUoMCBcIiArIChyIC8gMikgKyBcIilcIjtcbiAgICAgICAgICB9XG4gICAgICAgICkuZWFjaChhZGp1c3RUZXh0KTtcblxuICAgICAgICBpZiAobGFiZWxTZWwpIHJldHVybiBsYWJlbFNlbCA9IHBsb3QuYXhlcygpLnNlbGVjdEFsbCgnLmJhcnktYXhpcyAubGFiZWwnKS5kYXRhKGxhYmVscykuZWFjaChmb3JtYXRMYWJlbCk7XG4gICAgICB9O1xuICAgICAgcGxvdC5vbihcInJlc2l6ZS5cIiArIChyYW5kb21pZCgpKSwgZHJhdyk7XG4gICAgICByZXR1cm4gZHJhdygpO1xuICAgIH07XG5cbiAgICBzY2FsZWJhci5sYWJlbHMgPSBmdW5jdGlvbihsKSB7XG4gICAgICBpZiAobCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBsYWJlbHM7XG4gICAgICB9XG4gICAgICBsYWJlbHMgPSBsO1xuICAgICAgcmV0dXJuIHNjYWxlYmFyO1xuICAgIH07XG4gICAgc2NhbGViYXIuYXhlcyA9IGF4ZXM7XG4gICAgcmV0dXJuIHNjYWxlYmFyO1xuICB9O1xuXG4gIC8qIC0tLS0tIFZlcnRleCBhYmVscyAtLS0tLSAqL1xuICBkMy50ZXJuYXJ5LnZlcnRleExhYmVscyA9IGZ1bmN0aW9uKGxhYmVscykge1xuICAgIHZhciBzZWwgPSBudWxsO1xuICAgIHZhciByb3RhdGUgPSBbMCwgNjAsIC02MF07XG4gICAgdmFyIHBhZCA9IDIwO1xuXG4gICAgdmFyIEwgPSBmdW5jdGlvbihwbG90KSB7XG4gICAgICB2YXIgZGF0YSwgZHJhdywgdmVydHM7XG4gICAgICB2ZXJ0cyA9IHBsb3QudmVydGljZXMocGFkKTtcbiAgICAgIGRhdGEgPSBsYWJlbHMubWFwKGZ1bmN0aW9uKGwsIGkpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsYWJlbDogbCxcbiAgICAgICAgICB2ZXJ0ZXg6IHZlcnRzW2ldXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHNlbCA9IHBsb3QuYXhlcygpLnNlbGVjdEFsbChcIi52ZXJ0ZXgtbGFiZWxcIikuZGF0YShkYXRhKTtcbiAgICAgIHNlbC5lbnRlcigpLmFwcGVuZChcInRleHRcIikudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkLmxhYmVsO30pXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJ2ZXJ0ZXgtbGFiZWwgXCIgKyBkLmxhYmVsLnRvTG93ZXJDYXNlKCk7fSApXG5cbiAgICAgIGRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHNlbC5hdHRyKHtcbiAgICAgICAgICB0cmFuc2Zvcm06IGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgIHZhciByZWYsIHgsIHk7XG4gICAgICAgICAgICByZWYgPSBkLnZlcnRleCwgeCA9IHJlZlswXSAsIHkgPSByZWZbMV07XG4gICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB4ICsgXCIsXCIgKyB5ICsgXCIpcm90YXRlKFwiICsgcm90YXRlW2ldICsgXCIpXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIHBsb3Qub24oXCJyZXNpemUuXCIgKyAocmFuZG9taWQoKSksIGRyYXcpO1xuICAgICAgZHJhdygpO1xuICAgICAgcmV0dXJuIHNlbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEw7XG4gIH07XG5cbiAgLyogLS0tLS0gTmVhdGxpbmUgLS0tLS0gKi9cbiAgZDMudGVybmFyeS5uZWF0bGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZWF0bGluZTtcbiAgICBuZWF0bGluZSA9IGZ1bmN0aW9uKHBsb3QpIHtcbiAgICAgIHZhciBlbDtcbiAgICAgIHJldHVybiBlbCA9IHBsb3Qubm9kZSgpLmFwcGVuZChcInVzZVwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibmVhdGxpbmVcIilcbiAgICAgICAgLmF0dHIoXCJ4bGluazpocmVmXCIsIFwiI2JvdW5kc1wiKVxuICAgICAgfTtcbiAgICBcbiAgICByZXR1cm4gbmVhdGxpbmU7XG4gIH1cblxuICBfcGxvdEJvdW5kcyA9IGZ1bmN0aW9uKHBsb3QpIHtcbiAgICB2YXIgXywgYSwgZG9tYWlucywgZHJhdywgZWwsIGksIGosIHBvaW50cywgdjtcbiAgICBkb21haW5zID0gcGxvdC5zY2FsZXMubWFwKGZ1bmN0aW9uKHMpIHtcbiAgICAgIHJldHVybiBzLmRvbWFpbigpO1xuICAgIH0pO1xuXG4gICAgLy8gY29uc29sZS5sb2coXCJkb21haW5zXCIsIGRvbWFpbnMpO1xuICAgIHBvaW50cyA9IFtdO1xuICAgIGZvciAoaSA9IGogPSAwOyBqIDw9IDI7IGkgPSArK2opIHtcbiAgICAgIHYgPSBpIC0gMTtcbiAgICAgIGlmICh2ID09PSAtMSkge1xuICAgICAgICB2ID0gMjtcbiAgICAgIH1cbiAgICAgIGEgPSBkb21haW5zLm1hcChmdW5jdGlvbihkKSB7XG4gICAgICAgIHJldHVybiBkWzBdO1xuICAgICAgfSk7XG4gICAgICBhW3ZdID0gZG9tYWluc1t2XVsxXTtcbiAgICAgIHBvaW50cy5wdXNoKGEpO1xuICAgICAgYSA9IGRvbWFpbnMubWFwKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgcmV0dXJuIGRbMF07XG4gICAgICB9KTtcbiAgICAgIGFbaV0gPSBkb21haW5zW2ldWzFdO1xuICAgICAgcG9pbnRzLnB1c2goYSk7XG4gICAgfVxuXG4gICAgXyA9IGQzLnNlbGVjdCh0aGlzKTtcbiAgICBlbCA9IF8uc2VsZWN0KFwiI2JvdW5kc1wiKTtcbiAgICBpZiAoZWwubm9kZSgpID09IG51bGwpIHtcbiAgICAgIGVsID0gXy5hcHBlbmQoXCJwb2x5Z29uXCIpO1xuICAgIH1cbiAgICBlbC5kYXR1bShwb2ludHMpLmF0dHIoe1xuICAgICAgaWQ6ICdib3VuZHMnXG4gICAgfSk7XG4gICAgZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGVsLmF0dHIoe1xuICAgICAgICBwb2ludHM6IGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICB2YXIgZGk7XG4gICAgICAgICAgZGkgPSBkLm1hcChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgICBpID0gcGxvdC5yYXdQb2ludChjKTtcbiAgICAgICAgICAgIHJldHVybiBpLmpvaW4oXCIsXCIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBkaS5qb2luKFwiIFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBwbG90Lm9uKFwicmVzaXplLlwiICsgKHJhbmRvbWlkKCkpLCBkcmF3KTtcbiAgICByZXR1cm4gZHJhdygpO1xuICB9O1xuXG4gIGQzLnRlcm5hcnkucGxvdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBULCBheGVzLCBjYWxsT25DcmVhdGUsIGRlZnMsIGV2ZW50cywgaGVpZ2h0LCBpbm5lckhlaWdodCwgaW5uZXJXaWR0aCwgbWFyZ2luLCBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aCwgcGxvdCwgcmFkaXVzLCByZXNjYWxlVmlldywgc2NhbGVzLCBzaG91bGRDbGlwLCBzdmcsIHdpZHRoO1xuICAgIFxuICAgIC8vIERpbWVuc2lvbnNcbiAgICBvdXRlcldpZHRoID0gNTAwO1xuICAgIG91dGVySGVpZ2h0ID0gNTAwO1xuICAgIG1hcmdpbiA9IHtcbiAgICAgIHRvcDogNTAsXG4gICAgICBib3R0b206IDUwLFxuICAgICAgbGVmdDogNTAsXG4gICAgICByaWdodDogNTBcbiAgICB9O1xuICAgIHJhZGl1cyA9IG51bGw7XG4gICAgaGVpZ2h0ID0gbnVsbDtcbiAgICB3aWR0aCA9IG51bGw7XG4gICAgXG4gICAgc3ZnID0gbnVsbDtcbiAgICBheGVzID0gbnVsbDtcbiAgICBwbG90ID0gbnVsbDtcbiAgICBkZWZzID0gbnVsbDtcbiAgICBzaG91bGRDbGlwID0gZmFsc2U7XG4gICAgY2FsbE9uQ3JlYXRlID0gW107XG4gICAgXG4gICAgc2NhbGVzID0gWzAsIDEsIDJdLm1hcChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBkMy5zY2FsZS5saW5lYXIoKS5kb21haW4oWzAsIDFdKS5yYW5nZShbMCwgMV0pO1xuICAgIH0pO1xuICAgIGV2ZW50cyA9IGQzLmRpc3BhdGNoKFwicmVzaXplXCIpO1xuXG4gICAgaW5uZXJXaWR0aCA9IGZ1bmN0aW9uKHcpIHtcbiAgICAgIHJldHVybiB3IC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgfTtcblxuICAgIGlubmVySGVpZ2h0ID0gZnVuY3Rpb24oaCkge1xuICAgICAgcmV0dXJuIGggLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcbiAgICB9O1xuXG4gICAgcmVzY2FsZVZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjZW50ZXIsIGosIGxlbiwgcztcbiAgICAgIGlmICh3aWR0aCA9PSBudWxsKSB7XG4gICAgICAgIHdpZHRoID0gaW5uZXJXaWR0aChvdXRlcldpZHRoKTtcbiAgICAgIH1cbiAgICAgIGlmIChoZWlnaHQgPT0gbnVsbCkge1xuICAgICAgICBoZWlnaHQgPSBpbm5lckhlaWdodChvdXRlckhlaWdodCk7XG4gICAgICB9XG4gICAgICBpZiAocmFkaXVzID09IG51bGwpIHtcbiAgICAgICAgcmFkaXVzID0gd2lkdGggLyBNYXRoLnNxcnQoMyk7XG4gICAgICB9XG4gICAgICBjZW50ZXIgPSBbd2lkdGggLyAyLCByYWRpdXNdO1xuICAgICAgaWYgKHN2ZyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHN2Zy5hdHRyKHtcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIsXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH0pO1xuICAgICAgZDMuc2VsZWN0KHN2Zy5ub2RlKCkucGFyZW50RWxlbWVudCkuYXR0cih7XG4gICAgICAgIHdpZHRoOiBvdXRlcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IG91dGVySGVpZ2h0XG4gICAgICB9KTtcblxuICAgICAgZm9yIChqID0gMCwgbGVuID0gc2NhbGVzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIHMgPSBzY2FsZXNbal07XG4gICAgICAgIHMucmFuZ2UoWzAsIHdpZHRoXSk7XG4gICAgICB9XG4gICAgICBfcGxvdEJvdW5kcy5jYWxsKGRlZnMubm9kZSgpLCBUKTtcbiAgICAgIGlmIChzaG91bGRDbGlwKSB7XG4gICAgICAgIHBsb3QuYXR0cih7J2NsaXAtcGF0aCc6IFwidXJsKCNheGVzQ2xpcClcIn0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGV2ZW50cy5yZXNpemUoKTtcbiAgICB9O1xuXG4gICAgVCA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICBzdmcgPSBlbC5hcHBlbmQoXCJnXCIpO1xuICAgICAgZGVmcyA9IHN2Zy5hcHBlbmQoJ2RlZnMnKTtcbiAgICAgIGF4ZXMgPSBzdmcuYXBwZW5kKCdnJykuYXR0cignaWQnLCAnYXhlcycpO1xuICAgICAgcGxvdCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCdpZCcsICdwbG90Jyk7XG4gICAgICByZXNjYWxlVmlldygpO1xuICAgICAgZGVmcy5hcHBlbmQoJ2NsaXBQYXRoJykuYXR0cih7XG4gICAgICAgIGlkOiAnYXhlc0NsaXAnXG4gICAgICB9KS5hcHBlbmQoJ3VzZScpLmF0dHIoe1xuICAgICAgICAneGxpbms6aHJlZic6IFwiI2JvdW5kc1wiXG4gICAgICB9KTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBwbG90IGZ1bmN0aW9uc1wiKTtcblxuICAgICAgaWYgKGNhbGxPbkNyZWF0ZSkge1xuICAgICAgICBjYWxsT25DcmVhdGUuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgIHJldHVybiBmKFQpO1xuICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhbGxPbkNyZWF0ZSA9IFtdO1xuICAgIH07XG5cbiAgICBULm9uID0gZnVuY3Rpb24obiwgZikge1xuICAgICAgcmV0dXJuIGV2ZW50cy5vbihuLCBmKTtcbiAgICB9O1xuXG4gICAgVC5maXQgPSBmdW5jdGlvbih3LCBoKSB7XG4gICAgICB2YXIgbmgsIG53LCByO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgbncgPSBpbm5lcldpZHRoKHcpO1xuICAgICAgICBuaCA9IGlubmVySGVpZ2h0KGgpO1xuICAgICAgICBpZiAobmggPD0gY29zMzAgKiBudykge1xuICAgICAgICAgIHIgPSBuaCAqIDIgLyAzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHIgPSBudyAvIE1hdGguc3FydCgzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciA9IG53IC8gTWF0aC5zcXJ0KDMpO1xuICAgICAgfVxuICAgICAgVC5yYWRpdXMocik7XG4gICAgICByZXR1cm4gVDtcbiAgICB9O1xuXG4gICAgVC5ub2RlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc3ZnO1xuICAgIH07XG5cbiAgICBULmF4ZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBheGVzO1xuICAgIH07XG5cbiAgICBULnBsb3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwbG90O1xuICAgIH07XG5cbiAgICBULmNhbGwgPSBmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoc3ZnICE9IG51bGwpIHtcbiAgICAgICAgZihUKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxPbkNyZWF0ZS5wdXNoKGYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFQ7XG4gICAgfTtcblxuICAgIFQuc2NhbGVzID0gc2NhbGVzO1xuICAgIFQubWFyZ2luID0gZnVuY3Rpb24obSkge1xuICAgICAgaWYgKG0gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbWFyZ2luO1xuICAgICAgfVxuICAgICAgaWYgKG0ubGVmdCAhPSBudWxsKSB7XG4gICAgICAgIG1hcmdpbiA9IG07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXJnaW4gPSB7XG4gICAgICAgICAgbGVmdDogbSxcbiAgICAgICAgICByaWdodDogbSxcbiAgICAgICAgICB0b3A6IG0sXG4gICAgICAgICAgYm90dG9tOiBtXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXNjYWxlVmlldygpO1xuICAgICAgcmV0dXJuIFQ7XG4gICAgfTtcblxuICAgIFQucG9pbnQgPSBmdW5jdGlvbihjb29yZHMpIHtcbiAgICAgIHZhciBzdW07XG4gICAgICBzdW0gPSBkMy5zdW0oY29vcmRzKTtcbiAgICAgIGlmIChzdW0gIT09IDApIHtcbiAgICAgICAgY29vcmRzID0gY29vcmRzLm1hcChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgcmV0dXJuIGQgLyBzdW07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFQucmF3UG9pbnQoY29vcmRzKTtcbiAgICB9O1xuXG4gICAgVC5yYXdQb2ludCA9IGZ1bmN0aW9uKGQpIHtcbiAgICAgIHZhciBBLCBCLCBDLCBhLCBiLCBjLCB4LCB5O1xuICAgICAgaWYgKGQzLnN1bShkKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gWzAsIDBdO1xuICAgICAgfVxuICAgICAgQSA9IHNjYWxlc1swXSwgQiA9IHNjYWxlc1sxXSwgQyA9IHNjYWxlc1syXTtcbiAgICAgIGEgPSBkWzBdLCBiID0gZFsxXSwgYyA9IGRbMl07XG4gICAgICB4ID0gQShhKSAvIDIgKyBCKGIpO1xuICAgICAgeSA9IEIoKDEgLSBhKSAqIGNvczMwKTtcbiAgICAgIHJldHVybiBbeCwgeV07XG4gICAgfTtcblxuICAgIFQudmFsdWUgPSBmdW5jdGlvbihhcmcpIHtcbiAgICAgIHZhciBBLCBCLCBDLCBhLCBiLCBjLCB4LCB5O1xuICAgICAgeCA9IGFyZ1swXSwgeSA9IGFyZ1sxXTtcbiAgICAgIEEgPSBzY2FsZXNbMF0sIEIgPSBzY2FsZXNbMV0sIEMgPSBzY2FsZXNbMl07XG4gICAgICBhID0gMSAtIEIuaW52ZXJ0KHkpIC8gY29zMzA7XG4gICAgICBiID0gQi5pbnZlcnQoeCAtIEEoYSkgLyAyKTtcbiAgICAgIGMgPSAxIC0gYSAtIGI7XG4gICAgICByZXR1cm4gW2EsIGIsIGNdO1xuICAgIH07XG5cbiAgICBULnBhdGggPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihjb29yZHNMaXN0LCBhY2Nlc3NvciwgaW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbnM7XG4gICAgICAgIGxpbmUoaW50ZXJwb2xhdG9yKTtcbiAgICAgICAgaWYgKCFhY2Nlc3NvcikgeyBhY2Nlc3NvciA9IGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQ7IH07IH1cblxuICAgICAgICBwb3NpdGlvbnMgPSBjb29yZHNMaXN0Lm1hcChmdW5jdGlvbihkKSB7IHJldHVybiBULnBvaW50KGFjY2Vzc29yKGQpKTsgfSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gcGF0aChwb3NpdGlvbnMpO1xuICAgICAgfTtcbiAgICB9KSh0aGlzKTtcblxuICAgIFQuYXJlYSA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJ0LnBhdGggX3RoaXNcIiwgX3RoaXMpO1xuXG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29vcmRzTGlzdCwgYWNjZXNzb3IsIGludGVycG9sYXRvcikge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImQzLVRFUk5BUlk6IGNvb3Jkc0xpc3RcIixjb29yZHNMaXN0KTtcbiAgICAgICAgdmFyIHBvc2l0aW9ucztcbiAgICAgICAgbGluZShpbnRlcnBvbGF0b3IpO1xuICAgICAgICBpZiAoIWFjY2Vzc29yKSB7IGFjY2Vzc29yID0gZnVuY3Rpb24oZCkgeyByZXR1cm4gZDsgfTsgfVxuXG4gICAgICAgIHBvc2l0aW9ucyA9IGNvb3Jkc0xpc3QubWFwKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFQucG9pbnQoYWNjZXNzb3IoZCkpOyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicG9zaXRpb25zXCIsIHBvc2l0aW9ucyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwicGF0aChwb3NpdGlvbnNcIiwgcGF0aChwb3NpdGlvbnMpKTtcblxuICAgICAgICByZXR1cm4gcGF0aChwb3NpdGlvbnMpICsgXCJaXCI7IC8vIGNsb3NlcyB0aGUgcGF0aFxuICAgICAgfTtcbiAgICB9KSh0aGlzKTsgICAgXG5cbiAgICBULnJ1bGUgPSBmdW5jdGlvbihheGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIGVuZHM7XG4gICAgICAgIGVuZHMgPSBbXTtcblxuICAgICAgICBpZiAoYXhpcyA9PT0gMCkge1xuICAgICAgICAgIGVuZHMgPSBbWzAsIDEgLSB2YWx1ZSwgdmFsdWVdLCBbMSAtIHZhbHVlLCAwLCB2YWx1ZV1dO1xuICAgICAgICB9IGVsc2UgaWYgKGF4aXMgPT09IDEpIHtcbiAgICAgICAgICBlbmRzID0gW1swLCB2YWx1ZSwgMSAtIHZhbHVlXSwgWzEgLSB2YWx1ZSwgdmFsdWUsIDBdXTtcbiAgICAgICAgfSBlbHNlIGlmIChheGlzID09PSAyKSB7XG4gICAgICAgICAgZW5kcyA9IFtbdmFsdWUsIDAsIDEgLSB2YWx1ZV0sIFt2YWx1ZSwgMSAtIHZhbHVlLCAwXV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImVuZHNcIiwgZW5kcyk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiVC5wYXRoKGVuZHMpXCIsIFQucGF0aChlbmRzKSk7XG5cbiAgICAgICAgcmV0dXJuIFQucGF0aChlbmRzKTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIFQudmVydGljZXMgPSBmdW5jdGlvbihwYWQpIHtcbiAgICAgIHZhciByb3RhdGU7XG4gICAgICBpZiAocGFkID09IG51bGwpIHtcbiAgICAgICAgcGFkID0gMDtcbiAgICAgIH1cbiAgICAgIHJvdGF0ZSA9IFswLCAtMTIwLCAxMjBdO1xuICAgICAgcmV0dXJuIHJvdGF0ZS5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgICB2YXIgYSwgeCwgeTtcbiAgICAgICAgYSA9IGQgKiBNYXRoLlBJIC8gMTgwO1xuICAgICAgICB4ID0gd2lkdGggLyAyICsgTWF0aC5zaW4oYSkgKiAocmFkaXVzICsgcGFkKTtcbiAgICAgICAgeSA9IHJhZGl1cyAtIE1hdGguY29zKGEpICogKHJhZGl1cyArIHBhZCk7XG4gICAgICAgIHJldHVybiBbeCwgeV07XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgVC5yYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICByZXR1cm4gVDtcbiAgICB9O1xuXG4gICAgVC5yYWRpdXMgPSBmdW5jdGlvbihyKSB7XG4gICAgICBpZiAociAhPSBudWxsKSB7XG4gICAgICAgIHJhZGl1cyA9IHI7XG4gICAgICAgIGhlaWdodCA9IHIgKiAzIC8gMjtcbiAgICAgICAgd2lkdGggPSByICogTWF0aC5zcXJ0KDMpO1xuICAgICAgICBvdXRlckhlaWdodCA9IGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tO1xuICAgICAgICBvdXRlcldpZHRoID0gd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodDtcbiAgICAgICAgcmVzY2FsZVZpZXcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByYWRpdXM7XG4gICAgICB9XG4gICAgICByZXR1cm4gVDtcbiAgICB9O1xuXG4gICAgVC5jZW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbd2lkdGggLyAyLCByYWRpdXNdO1xuICAgIH07XG5cbiAgICBULmhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICB9O1xuXG4gICAgVC53aWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHdpZHRoO1xuICAgIH07XG5cbiAgICBULmNsaXAgPSBmdW5jdGlvbihjKSB7XG4gICAgICBpZiAoYyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBzaG91bGRDbGlwO1xuICAgICAgfVxuICAgICAgc2hvdWxkQ2xpcCA9IGM7XG4gICAgICByZXR1cm4gVDtcbiAgICB9O1xuICAgIHJldHVybiBUO1xuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGQzLnRlcm5hcnkiXSwic291cmNlUm9vdCI6IiJ9