<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../css/ternary.css">
  <link rel="stylesheet" href="../css/explain.css">
</head>
<body>
  <script src="../d3/d3.js"></script>
  <script type="text/javascript" src="../js/ternary.v3.js"></script>  
  <script>

const svg = d3.select("body").append("svg");

graticule = d3.ternary.graticule()
  .majorInterval(0.2)
  .minorInterval(0.05);

function resize(t) {
  t.fit(500, 500);
};

ternary = d3.ternary.plot()
  .call(resize)
  .call(d3.ternary.scalebars())
  .call(d3.ternary.neatline())
  .call(graticule);

d3.select("svg").call(ternary);

function addLabels(labels){
  ternary.call(d3.ternary.vertexLabels(labels));
}

//https://gcalmettes.github.io/reveal.js-d3/demo/#/1

var _transitions = [
  {
    transitionForward: () => addLabels(["Sand"]),
    transitionBackward: () => d3.ternary.removeLabels(),
    index: 0
  },
  {
    transitionForward: () => addLabels(["Sand", "Silt"]),
    transitionBackward: () => d3.ternary.removeLabels(),
    index: 1
  },
  {
    transitionForward: () => addLabels(["Sand", "Silt", "Clay"]),
    transitionBackward: () => d3.ternary.removeLabels(),
    index: 2
  },
]
</script>
</body>
</html>
